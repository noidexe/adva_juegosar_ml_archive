{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"WELCOME_MSG"}]},{"resourceType":"PHOTO","capabilities":[{"name":"READ"},{"name":"UPLOAD"},{"name":"UPLOADTEMP"}]},{"resourceType":"FILE","capabilities":[{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"MEMBER","capabilities":[{"name":"READ"}]},{"resourceType":"LINK","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"CALENDAR","capabilities":[{"name":"READ"}]},{"resourceType":"DATABASE","capabilities":[{"name":"CREATE"},{"name":"READ"},{"name":"READ_DATA"}]},{"resourceType":"POLL","capabilities":[{"name":"READ"},{"name":"VOTE"},{"name":"CREATE"}]},{"resourceType":"MESSAGE","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[{"name":"READ"},{"name":"UPLOAD"}]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[{"name":"READ"}]},{"resourceType":"POST","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"PIN","capabilities":[{"name":"CREATE"},{"name":"DELETE"},{"name":"READ"},{"name":"UPDATE"}]}],"subStatus":"NORMAL","groupUrl":"ar.groups.yahoo.com","intlCode":"ar"},"comscore":"pageview_candidate","ygData":{"userId":126866763,"authorName":"Gabriel Jacobo","from":"&quot;Gabriel Jacobo&quot; &lt;gabriel@...&gt;","profile":"thisisnotrealmdq","replyTo":"LIST","senderId":"ypSe0IC8s0zxnrrAwC5bM1eEJASSs9qBqSpjdg8POdCO9mCXY54-lJamHlL9TiivH2DGDmup8jbQ_Gge8_rwCy7mxXC0lH-O36tkN7J1VvKilCgYl7XpEzByzHo","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [JuegosAr] script casero vs. Lua","postDate":"1112903370","msgId":12667,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PG9wc292bjBzeGdwN3FjYnNAbWFpbC5ub3RpY2lhc3lwcm90YWdvbmlzdGFzLmNvbT4=","inReplyToHeader":"PGQzM2M5ZCt1YnY0QGVHcm91cHMuY29tPg==","referencesHeader":"PGQzM2M5ZCt1YnY0QGVHcm91cHMuY29tPg=="},"prevInTopic":12664,"nextInTopic":12677,"prevInTime":12666,"nextInTime":12668,"topicId":12658,"numMessagesInTopic":6,"msgSnippet":"Te estas olvidando que la ventaja principal de los scripts es que se puede poner a gente menos calificada (entre nosotros, lease ARTISTAS MUAJAJAJA) a","rawEmail":"Return-Path: &lt;gabriel@...&gt;\r\nX-Sender: gabriel@...\r\nX-Apparently-To: JuegosAR@...\r\nReceived: (qmail 12166 invoked from network); 7 Apr 2005 19:50:21 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m21.grp.scd.yahoo.com with QMQP; 7 Apr 2005 19:50:21 -0000\r\nReceived: from unknown (HELO rivadavia.dattaweb.com) (200.58.112.66)\n  by mta1.grp.scd.yahoo.com with SMTP; 7 Apr 2005 19:50:20 -0000\r\nReceived: from [168.226.87.229] (helo=mail.noticiasyprotagonistas.com)\n\tby rivadavia.dattaweb.com with asmtp (Exim 4.30)\n\tid 1DJcmh-0000xo-00\n\tfor JuegosAR@...; Thu, 07 Apr 2005 16:35:23 -0300\r\nDate: Thu, 07 Apr 2005 16:49:30 -0300\r\nTo: JuegosAR@...\r\nReferences: &lt;d33c9d+ubv4@...&gt;\r\nOrganization: Noticias & Protagonistas\r\nContent-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15\r\nMIME-Version: 1.0\r\nContent-Transfer-Encoding: 8bit\r\nMessage-ID: &lt;opsovn0sxgp7qcbs@...&gt;\r\nIn-Reply-To: &lt;d33c9d+ubv4@...&gt;\r\nUser-Agent: Opera M2/7.60 (Win32, build 7364)\r\nX-AntiAbuse: This header was added to track abuse, please include it with any abuse report\r\nX-AntiAbuse: Primary Hostname - rivadavia.dattaweb.com\r\nX-AntiAbuse: Original Domain - gruposyahoo.com.ar\r\nX-AntiAbuse: Originator/Caller UID/GID - [0 0] / [502 502]\r\nX-AntiAbuse: Sender Address Domain - noticiasyprotagonistas.com\r\nX-eGroups-Msg-Info: 2:12:4\r\nFrom: &quot;Gabriel Jacobo&quot; &lt;gabriel@...&gt;\r\nSubject: Re: [JuegosAr] script casero vs. Lua\r\nX-Yahoo-Group-Post: member; u=126866763\r\nX-Yahoo-Profile: thisisnotrealmdq\r\n\r\nTe estas olvidando que la ventaja principal de los scripts es que se puede  \nponer a gente menos calificada (entre nosotros, lease ARTISTAS MUAJAJAJA)  \na toquetear el funcionamiento del juego sin tener que preocuparse por  \ncosas tan arc�icas como el assembler, los compiladores, las dependencias,  \nel comportamiento err�tico del VS NET, y otras.\n\nPor otra parte, respecto a lo que decis de poner el script en pausa, yo en  \nmi �poca (�?) hice un engine para aventuras gr�ficas y enfrentaba el mismo  \ndilema: La realidad, seg�n me pareci� y seguramente debe haber un pattern  \nque lo explique mejor, es que no se puede poner en pausa el script  \neficientemente y ademas controlar el flujo del juego (o si se puede es  \ndemasiado complicado), es mejor hacer una maquina de estados finitos,  \ndonde cada estado es una nueva instancia de, por ejemplo, una conversaci�n.\n\nGabriel.\n\n&gt;\n&gt;\n&gt; Supongamos que uno tiene un script casero de estas caracter�ticas:\n&gt;\n&gt; una VM con unos 4 registros, las comparaciones b�sicas (ver si un\n&gt; registro es mayor que un dato, etc.), switches para pausarse en\n&gt; cualquier punto y seguir desde ah�, un stack, llamar funciones\n&gt; externas y saltos b�sicos (saltar si la �ltima operaci�n dio mayor que\n&gt; 0, menor que 0, etc.)\n&gt;\n&gt; o sea algo asi:\n&gt;\n&gt; typedef union _Dato\n&gt;     int entero;\n&gt;     char* string;\n&gt;     void* pUserData;\n&gt; } Dato;\n&gt;\n&gt; class VM{\n&gt;   Dato registros[4];\n&gt;   Dato stack[STACKSIZE];\n&gt;   BYTE flags;\n&gt;   int ip;\n&gt;   int sp;\n&gt;   void* curr_program();\n&gt; Etc..\n&gt; public:\n&gt;   void SetProgram(void*p){ip=0;curr_program=p;}\n&gt;   Resume();\n&gt;   Pause();\n&gt;   Reset();\n&gt;   RegisterFn((void)(funcion*)());\n&gt; etc...\n&gt; };\n&gt;\n&gt; y se programa en un script tipo assembler onda:\n&gt;\n&gt; on Action=&quot;Usar&quot;,Param1=&quot;Cucharita&quot;,Param2=&quot;Conducto&quot;\n&gt; begin\n&gt;    GetHotspotState(NRO_ROOM,NRO_HOTSPOT); carga el resultado en AX\n&gt;    cmp 1;  �ax-1=0?\n&gt;    jz YAESTAABIERTO\n&gt;    DisplayMessage(&quot;Consegui abrirlo&quot;);\n&gt;    SetHotspotState(NRO_ROOM,NRO_HOTSPOT,1);\n&gt;    ret          ;sale\n&gt; YAESTAABIERTO:\n&gt;    DisplayMessage(&quot;Ya estaba abierto de antes&quot;);\n&gt;    ret\n&gt; end\n&gt; }\n&gt;\n&gt; y cada instrucci�n b�sica emula la circuiter�a con sentencias de C, tipo\n&gt;\n&gt; void LCL_VM::cmp()\n&gt; {\n&gt;    flags=0;\n&gt;    if(registros[0]==param1)\n&gt;          flags|=ZERO_FLAG;\n&gt;    else\n&gt;       if(registros[0]&gt;param1)\n&gt;           flags|=GREATER_FLAG;\n&gt;       else\n&gt;           flags|=LESS_FLAG;\n&gt;\n&gt; porque me est� resultando que si hiciera:\n&gt;\n&gt; void _fastcall LCL_VM::cmp()\n&gt; {\n&gt;   _asm(mov eax,registros[0]);\n&gt;   _asm(cmp param1);\n&gt;   _asm(ldahf);\n&gt;   _asm(mov byte flags,ah);\n&gt; }\n&gt;\n&gt; es un poquito m�s r�pido nom�s, pero es despreciable. (Ahora bien,\n&gt; esto viene a que los emuladores supuestamente hacen m�s o menos eso\n&gt; seg�n le�, pasan cada instrucci�n de la m�quina emulada a una\n&gt; instrucci�n de pc y eso hace que vayan r�pido, pero a mi me est� dando\n&gt; casi la misma velocidad en C que en inline asm para la mayor�a de los\n&gt; casos.)\n&gt; �alguien ve que es lo que puedo estar haciendo mal?\n&gt;\n&gt; Y bueno, en realidad el tema central de este post viene a que haciendo\n&gt; una comparativa entre los pros y contras de un script casero vs. Lua\n&gt; (obviamente, en el caso �ste particular de la aventura gr�fica o alg�n\n&gt; juego similar, ya s� que Lua es mucho m�s poderoso y un mill�n de a�os\n&gt; luz mejor hecho) estaba llegando a estas conclusiones:\n&gt;\n&gt;\n&gt; APAG (assembler para aventuras gr�ficas, :p )\n&gt; ----------------------------------------\n&gt;\n&gt; PROS:\n&gt; - liviano (~4k)\n&gt; - m�s r�pido por ser m�s espec�fico\n&gt; - conveniente para respuestas cortas a un evento (como ser responder\n&gt; algo al mirar un objeto, no hay que inicializar nada en la VM al\n&gt; cargar el programa, etc.)\n&gt; - Pause() y Resume() desde el script y desde la VM\n&gt;\n&gt; CONS:\n&gt; - dif�cil de scriptear para non-freaks\n&gt; - si algo anda mal se cuelga sin decir nada (no debug)\n&gt; - feo y l�mitado\n&gt; - JAASW (Just Another Amateur Script in the Web)\n&gt;\n&gt;\n&gt; LUA\n&gt; ---\n&gt; PROS:\n&gt; - hay buenos editores\n&gt; - estandarizado\n&gt; - f�cil de usar, buenos manuales y tiene debugger\n&gt;\n&gt; CONS:\n&gt; - �como hago Pause() y Resume()?\n&gt; - demasiado script para hacer algo sencillongo.\n&gt; - Poco eficiente para ejecutar muchos scripts de un promedio de 3\n&gt; instrucciones cada uno.\n&gt;\n&gt;\n&gt; Aclaro: por lo que v�, estoy llegando a estas conclusiones, pero no\n&gt; estoy ni remotamente seguro de nada y por eso me pareci� interesante\n&gt; discutir esto en el foro, pues mal que mal todo el mundo alguna vez\n&gt; tuvo que ver como meter un script en un engine y como ingresar los\n&gt; eventos desde un editor, y todo eso.\n&gt;\n&gt; Ser�a lindo que comenten experiencias y pareceres, links y esas cosas.\n&gt; Yo a la bosta esa de APAG la hago OpenSource por si alguien pregunta,\n&gt; as� que a lo mejor alguien pueda aportar alg�n dato que permita\n&gt; mejorarlo un poco como para que sirva para atender algo m�s que las\n&gt; modestas necesidades de Los Contempladores Lacustres.\n&gt;\n&gt; Ok, saludos,\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------\n&gt; Si usted desea cancelar la suscripci�n, envie un mail en blanco a:\n&gt; JuegosAR-unsubscribe@egroups.com\n&gt;\n&gt; Tambien puede visitar m�s opciones de la lista en:\n&gt;\n&gt; http://ar.groups.yahoo.com/group/JuegosAR/\n&gt; Enlaces de Yahoo! Grupos\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n\n-- \nGabriel.\n\n"}}