{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"WELCOME_MSG"}]},{"resourceType":"PHOTO","capabilities":[{"name":"READ"},{"name":"UPLOAD"},{"name":"UPLOADTEMP"}]},{"resourceType":"FILE","capabilities":[{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"MEMBER","capabilities":[{"name":"READ"}]},{"resourceType":"LINK","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"CALENDAR","capabilities":[{"name":"READ"}]},{"resourceType":"DATABASE","capabilities":[{"name":"READ"},{"name":"CREATE"},{"name":"READ_DATA"}]},{"resourceType":"POLL","capabilities":[{"name":"READ"},{"name":"VOTE"},{"name":"CREATE"}]},{"resourceType":"MESSAGE","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[{"name":"READ"},{"name":"UPLOAD"}]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[{"name":"READ"}]},{"resourceType":"POST","capabilities":[{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"PIN","capabilities":[{"name":"READ"},{"name":"UPDATE"},{"name":"CREATE"},{"name":"DELETE"}]}],"subStatus":"NORMAL","groupUrl":"ar.groups.yahoo.com","intlCode":"ar"},"comscore":"pageview_candidate","ygData":{"userId":206591224,"authorName":"anarkimedes_graham","from":"&quot;anarkimedes_graham&quot; &lt;anarkimedes@...&gt;","profile":"anarkimedes_graham","replyTo":"LIST","senderId":"xJrIJIC3Z5wDloBFkgNHblallPk8dyOa-xdwXmzAdh41FfjgNgtlRxexSmeifKVVk6lnQp8VheXvdeN6JyUG5kLpbmEZoaCZ8tE-Pz5er-PRvt9VgQ","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Motor de dialogos","postDate":"1156382814","msgId":15753,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGVjaXY4dSthaGFyQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDVmMWE4NWYwMDYwODIzMDU1OWo0MWFiNzY2M2k4N2I0MmE5ZDc0Mjg3OTcxQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":15752,"nextInTopic":15754,"prevInTime":15752,"nextInTime":15754,"topicId":15747,"numMessagesInTopic":10,"msgSnippet":"eeehhh al fin un mensaje donde tengo algo útil para decir! Bueno, mirá, te cuento como lo resolví en Escena 3 (en ese juego andaba todo mal menos los","rawEmail":"Return-Path: &lt;anarkimedes@...&gt;\r\nX-Sender: anarkimedes@...\r\nX-Apparently-To: JuegosAR@...\r\nReceived: (qmail 52974 invoked from network); 24 Aug 2006 01:28:26 -0000\r\nReceived: from unknown (66.218.67.33)\n  by m27.grp.scd.yahoo.com with QMQP; 24 Aug 2006 01:28:26 -0000\r\nReceived: from unknown (HELO n8a.bullet.sc5.yahoo.com) (66.163.187.151)\n  by mta7.grp.scd.yahoo.com with SMTP; 24 Aug 2006 01:28:15 -0000\r\nReceived: from [66.163.187.121] by n8.bullet.sc5.yahoo.com with NNFMP; 24 Aug 2006 01:26:56 -0000\r\nReceived: from [66.218.66.59] by t2.bullet.sc5.yahoo.com with NNFMP; 24 Aug 2006 01:26:56 -0000\r\nReceived: from [66.218.66.66] by t8.bullet.scd.yahoo.com with NNFMP; 24 Aug 2006 01:26:56 -0000\r\nDate: Thu, 24 Aug 2006 01:26:54 -0000\r\nTo: JuegosAR@...\r\nMessage-ID: &lt;eciv8u+ahar@...&gt;\r\nIn-Reply-To: &lt;5f1a85f00608230559j41ab7663i87b42a9d74287971@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;anarkimedes_graham&quot; &lt;anarkimedes@...&gt;\r\nSubject: Re: Motor de dialogos\r\nX-Yahoo-Group-Post: member; u=206591224; y=41T-LZFh2LOybd6PVtMrzbSgla6o9Wno5FHNFq7qnNPN5Hz-hGcxT0sVf4JR\r\nX-Yahoo-Profile: anarkimedes_graham\r\n\r\n\neeehhh al fin un mensaje donde tengo algo =FAtil para decir!\n\nBueno, mir=\r\n=E1, te cuento como lo resolv=ED en &#39;Escena 3&#39; (en ese juego\nandaba todo ma=\r\nl menos los di=E1logos). La soluci=F3n creo que es piola,\npermite hacer tod=\r\no lo que hacen todas las aventuras gr=E1ficas de\nLucasArts, y es relativame=\r\nnte f=E1cil de scriptear y editar, incluso en\nFlash. Entre sus features:\n\n-=\r\n que se pueda hacer que aparezca una opci=F3n en el di=E1logo y al\nelegirla=\r\n decir otra cosa, por ejemplo:\n\n&#39;Est=E1s preciosa esta noche.&#39; \n\ny al elegi=\r\nrla aparezca:\n\n&#39;gmpngpffff&#39;\n\n- Activar y desactivar opciones de di=E1logo, =\r\npor ej. peleas con espadas\ndel Monkey 1.\n\n- Dlg-Shuffle 2.0 o sea, poder ca=\r\nmbiar el =F3rden de las opciones.\n\nBueno, suficiente auto-publicidad, a los=\r\n hechos.\n\nPrimero que nada, como dec=EDa Hern=E1n, adhiero a eso de que es =\r\nuna buena\nidea separar lo que es la estructura de datos de di=E1logos de lo=\r\n que\nser=EDa el script del resto del juego, el que se usa para responder a\n=\r\neventos.\n\nY antes de seguir, aclarar que cuando digo &#39;di=E1logo&#39; no me refi=\r\nero a\n&#39;di=E0logo&#39; en el sentido de interlocuci=F3n ni a &#39;di=E1logo&#39; como se=\r\nr=EDa un\n&#39;di=E0logo&#39; de una GUI, sino a ese pintoresco cuadrito con opcione=\r\ns de\ncosas para decir que aparec=EDa abajo de la pantalla y que ya no se ve=\r\n\nen los juegos de ahora.\n\nPropongo una estructura as=ED, por ejemplo en XML=\r\n:\n\n&lt;dialogos lang=3D&#39;spanish&#39;&gt;\n&lt;dialog id=3D&#39;1&gt;\n&lt;label txt=3D&#39;hola, soy Mig=\r\nuel, y programo bases de datos&#39; show=3D&#39;true&#39;&gt;\n&lt;action op=3D&#39;talk&#39; param1=\r\n=3D&#39;Miguel&#39; param2=3D&#39;hola, soy Miguel, y programo\nbases de datos&#39;/&gt;\n&lt;actio=\r\nn op=3D&#39;talk&#39; param1=3D&#39;El Diablo&#39; param2=3D&#39;si si boludo ya s=E9 quien\nsos=\r\n, escuchame, te tengo un trabajo, mir=E1 ten=E9 esto&#39;/&gt;\n&lt;action op=3D&#39;add-i=\r\ntem&#39; param1=3D&#39;diario&#39;/&gt;\n&lt;action op=3D&#39;talk&#39; param1=3D&#39;Miguel&#39; param2=3D&#39;=\r\n=A1es un diario!&#39;/&gt;\n...etc.\n&lt;/actions&gt;\n&lt;/label&gt;\n&lt;label txt=3D&#39;hola, soy Gab=\r\nriel, y proclamo gases de patos&#39; show=3D&#39;true&#39;/&gt;\n..&lt;actions&gt;...&lt;/actions&gt;\n&lt;=\r\nlabel txt=3D&#39;hola, soy Michelle, y por labor hago canjes de cactus&#39;\nshow=3D=\r\n&#39;true&#39;/&gt;\n..&lt;actions&gt;...&lt;/actions&gt;\n&lt;label txt=3D&#39;hola, soy Rafael, y pronto =\r\nhago casettes de gatos&#39;\nshow=3D&#39;true&#39;/&gt;\n..&lt;actions&gt;...&lt;/actions&gt;\n&lt;/dialog&gt;\n=\r\n...etc.\n&lt;/dialogos&gt;\n\nla idea es, pues, almacenar en alg=FAn lado todos los =\r\ndi=E1logos y poder\nidentificar cada uno por un n=FAmero (o string o lo que =\r\nsea, pero me\nparece que un n=FAmero es lo m=E1s sencillo) de forma tal que =\r\ndesde el\nscript uno pueda hacer cosas como:\n\nonTalkEvent(object){\n      swi=\r\ntch(object.getName()){\n          case &#39;MARIA&#39;:\n             ShowDialog(1);\n=\r\n          break;\n\n          case &#39;DIABLO&#39;:\n             if(just_talked){\n  =\r\n                ShowDialog(3);\n             }\n             else{\n          =\r\n      ShowDialog(1);\n                just_talked=3Dtrue;\n             }\n   =\r\n       break;\n\n         default:\n             Talk(&#39;MIGUEL&#39;,&#39;no contesta&#39;);=\r\n\n      }\n}\n\nMe explico mejor.\nPor un lado tendr=EDas un dialog-script, que =\r\nser=EDa un script muy pero\nmuy simple con instrucciones muy b=E1sicas que s=\r\ne ejecutan al elegir una\nopci=F3n de di=E1logo. Yo us=E9 estas (son las que=\r\n est=E1n con @):\n\n@dialog X --&gt; salta al di=E1logo X\n@say X Y --&gt; hace que =\r\nel personaje X diga el texto Y\n@add-item X --&gt; agrega el =EDtem X al invent=\r\norio\n@rem-item X --&gt; saca el =EDtem X al inventorio\n@dis-dlg X Y --&gt; deshab=\r\nilita la opci=F3n Y del di=E1logo X (no se muestra)\n@enbl-dlg X Y --&gt; habil=\r\nita la opci=F3n Y del di=E1logo X (no se muestra)\n@room X --&gt; salta a la es=\r\ncena X\n@stop --&gt; sale del di=E1logo (vuelve al modo explorar)\n@setvar X Y -=\r\n-&gt; asigna el valor Y a la variable X \n\nbueno, y no se si no hab=EDa un par =\r\nm=E1s, pero igual con esas pod=E9s hacer\ntodo, el resto se hace desde el sc=\r\nript que us=E1s para responder a\neventos (podr=EDa ser directamente el acti=\r\nonscript).\n\nDesde ese script yo llamaba estas funciones para responder a lo=\r\ns\nsiguientes eventos.\n\nusar X con Y {\n   ...\n}\n\nhablar con X {\n   ...\n}\n\nus=\r\nar X {\n   ...\n}\n\nsalir {\n   ...\n}\n\netc.\n\nFunciones de di=E1logos y texto:\nT=\r\nalk(personaje,texto); --&gt; =E9sta por lo que v=ED vos ya la ten=E9s hecha.\n\n=\r\nDoDialog(x) --&gt; ejecuta el di=E1logo X\nEnableDlgOption(dlg_id,label_id);\nDi=\r\nsableDlgOption(dlg_id,label_id);\nSetDlgLabel(dlg_id,label_id,newtext);\nShuf=\r\nfleOptions(dlg_id,l1,l2);\n\n\nEn el source de Escena 3 estaba todo esto bien =\r\ndespanzurrado como para\npoder ser entendido mejor, si quer=E9s despu=E9s lo=\r\n busco y te lo paso.\n\nBueno, eso por ahora, no est=E1 muy claro lo que dije=\r\n pero debo partir,\ncualquier cosa despu=E9s me explayo m=E1s.\n\nSaludos, \n\nN=\r\nicol=E1s\n\nPD: Ah, ya lo dije, pero no est=E1 dem=E1s repetirlo: much=EDsima=\r\n suerte con\ntu proyecto! es una excelente idea y a muchos nos interesa : )\n=\r\n\n\n\n\n\n"}}