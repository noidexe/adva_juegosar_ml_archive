{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"WELCOME_MSG"}]},{"resourceType":"PHOTO","capabilities":[{"name":"READ"},{"name":"UPLOAD"},{"name":"UPLOADTEMP"}]},{"resourceType":"FILE","capabilities":[{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"MEMBER","capabilities":[{"name":"READ"}]},{"resourceType":"LINK","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"CALENDAR","capabilities":[{"name":"READ"}]},{"resourceType":"DATABASE","capabilities":[{"name":"READ"},{"name":"READ_DATA"},{"name":"CREATE"}]},{"resourceType":"POLL","capabilities":[{"name":"READ"},{"name":"VOTE"},{"name":"CREATE"}]},{"resourceType":"MESSAGE","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[{"name":"READ"},{"name":"UPLOAD"}]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[{"name":"READ"}]},{"resourceType":"POST","capabilities":[{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"PIN","capabilities":[{"name":"READ"},{"name":"CREATE"},{"name":"DELETE"},{"name":"UPDATE"}]}],"subStatus":"NORMAL","groupUrl":"ar.groups.yahoo.com","intlCode":"ar"},"comscore":"pageview_candidate","ygData":{"userId":806457,"authorName":"Lucas Wall","from":"&quot;Lucas Wall&quot; &lt;kthulhu@...&gt;","profile":"kthulhu76","replyTo":"LIST","senderId":"pF4HjurHOotI6vQz643vovxA7ftbemGnihdZNfl9Bv_XYD3A6p0fNi3wYAYnyVu5TX2xJs9tkKjx8O9r8w9MGPMWndlx","spamInfo":{"isSpam":false,"reason":"0"},"subject":"RE: [ADVA] Consulta sobre el HWND y las MFC","postDate":"1020526936","msgId":4046,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PE5EQkJJQURPRU1QQ0ZJQk1FTUxQQ0VHS0ZGQUEua3RodWxodUB1c2EubmV0Pg==","inReplyToHeader":"PDAwM2QwMWMxZjM3YiQxZmExZDBmMCRhZTczMjBjOEBydWJpaz4="},"prevInTopic":4045,"nextInTopic":0,"prevInTime":4045,"nextInTime":4047,"topicId":4042,"numMessagesInTopic":5,"msgSnippet":"Tu problema es que estas usando un dialogo... Lo mas clasico es usar una ventana comun que la creas antes y vos manejas el message pump, claro... sin MFC... ","rawEmail":"Return-Path: &lt;kthulhu@...&gt;\r\nX-Sender: kthulhu@...\r\nX-Apparently-To: JuegosAR@...\r\nReceived: (EGP: mail-8_0_3_2); 4 May 2002 15:39:54 -0000\r\nReceived: (qmail 66876 invoked from network); 4 May 2002 15:39:54 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m14.grp.scd.yahoo.com with QMQP; 4 May 2002 15:39:54 -0000\r\nReceived: from unknown (HELO linux.kadath.com.ar) (24.232.224.124)\n  by mta1.grp.scd.yahoo.com with SMTP; 4 May 2002 15:39:53 -0000\r\nReceived: from rlyeh (rlyeh.kadath.kk [192.168.25.3])\n\tby linux.kadath.com.ar (8.11.6/8.11.6) with SMTP id g44FgIH14159\n\tfor &lt;JuegosAR@...&gt;; Sat, 4 May 2002 12:42:18 -0300\r\nTo: &lt;JuegosAR@...&gt;\r\nSubject: RE: [ADVA] Consulta sobre el HWND y las MFC\r\nDate: Sat, 4 May 2002 12:42:16 -0300\r\nMessage-ID: &lt;NDBBIADOEMPCFIBMEMLPCEGKFFAA.kthulhu@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----=_NextPart_000_0034_01C1F369.1FA18800&quot;\r\nX-Priority: 3 (Normal)\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000\r\nImportance: Normal\r\nIn-Reply-To: &lt;003d01c1f37b$1fa1d0f0$ae7320c8@rubik&gt;\r\nFrom: &quot;Lucas Wall&quot; &lt;kthulhu@...&gt;\r\nX-Yahoo-Group-Post: member; u=806457\r\nX-Yahoo-Profile: kthulhu76\r\n\r\n\r\n------=_NextPart_000_0034_01C1F369.1FA18800\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 8bit\r\n\r\n\n    Tu problema es que estas usando un dialogo... Lo mas clasico es usar una\nventana comun que la creas antes y vos manejas el message pump, claro... sin\nMFC...\n\n    Usando un dialogo con, o sin MFC, vas a tener el mismo quilombo. Porque\nya sea llamando DoModal de MFC, o DialogBoxParam, o algo asi... siempre vas\na tener que hacer tus inicializaciones en el WM_INITDIALOG, que es el\nmensaje que te manda windows cuando la ventana con tu dialogo esta creada.\nPor supuesto estoy hablando de las inicializaciones donde necesitas un HWND.\n\n    En MFC OnInitDialog es el metodo que se llama cuando te llega el\nWM_INITDIALOG.\n\n    Si es una aplicacion de dialogo de MFC lo unico que es es una CDialog\ncon un DoModal en el InitInstance de la apicacion principal. Cuando el\ndialogo sale la aplicacion se cierra. Tenes que meter todo en, o mejor\ndicho, llamar todo desde, los metodos de la clase que deriva de CDialog. Con\nel class wizard es muy facil. Elegis los metodos y te agrega el codigo solo.\nEl problema es que tener que implementar todo con eventos. O sea... cuando\nel tipo toca un boton, cuando toca una tecla, etc... Claro que esto puede no\nser un problema y ser exactamente lo que queres.\n\n    Sino... podes usar otro thread AfxCreateThread() ... o algo asi, antes\ndel DoModal()... y sincronizar con cosas como WaitForSingleObject() ...\nEnterCriticalSection() y todas esas cosas...\n\n    Que es exactamente lo que estas tratando de hacer?\n\n\n\n  -----Original Message-----\n  From: Diego G. Ruiz At Neptra [mailto:diego.ruiz@...]\n  Sent: S�bado, 04 de Mayo de 2002 11:51\n  To: JuegosAR@...\n  Subject: Re: [ADVA] Consulta sobre el HWND y las MFC\n\n\n  En realidad no necesit�s el HWND, ya que si le pasas NULL toma el HWND de\nla ventana que est� en foreground. Te transcribo un m�todo de una clase de\nsonido de mi engine.\n\n  Fijate que el tercer par�metro de InitAudio es NULL (hay variables en el\nc�digo que son propiedades de la clase, pero creo que no hace falta\naclaraciones m_ es de member y la primer letra representa el tipo de dato b\nes boolean, sz es un array de chars, psz es un puntero a char, etc etc etc).\nLos throw son excepciones C++ que tira el m�todo cuando no puede\ninicializar, para el caso este ni le des bola.\n\n  bool CAncSound::Load(char * pszWavFileName)\n  {\n   char szPath[MAX_PATH];\n   char szFile[MAX_PATH];\n   SplitPathAndFile((const char *) pszWavFileName, szPath, szFile);\n\n\n   if (m_bLoaded)\n    return false;\n\n   // Inicializo el COM\n      CoInitialize(NULL);\n\n      // Creo el objeto loader\n      CoCreateInstance( CLSID_DirectMusicLoader, NULL, CLSCTX_INPROC,\n                        IID_IDirectMusicLoader8, (void**)&m_pLoader );\n\n      // Creo el objeto performance\n      CoCreateInstance( CLSID_DirectMusicPerformance, NULL, CLSCTX_INPROC,\n                        IID_IDirectMusicPerformance8,\n(void**)&m_pPerformance );\n\n  // Inicializo el DirectMusic y el DirectSound\n  m_pPerformance-&gt;InitAudio( NULL, NULL, NULL,\n                                 DMUS_APATH_DYNAMIC_STEREO, 64,\n                                 DMUS_AUDIOF_ALL, NULL );\n\n\n      // Indico el path de b�squeda\n      WCHAR wstrSearchPath[MAX_PATH];\n      MultiByteToWideChar( CP_ACP, 0, szPath, -1,\n                           wstrSearchPath, MAX_PATH );\n\n   m_pLoader-&gt;SetSearchDirectory( GUID_DirectMusicAllTypes,\n                                  wstrSearchPath, FALSE );\n\n      // Cargo el segmente desde el archivo\n      WCHAR wstrFileName[MAX_PATH];\n   MultiByteToWideChar( CP_ACP, 0, szFile, -1,\n                           wstrFileName, MAX_PATH);\n\n      if( FAILED( m_pLoader-&gt;LoadObjectFromFile( CLSID_DirectMusicSegment,\n                                                 IID_IDirectMusicSegment8,\n                                                 wstrFileName,\n                                                 (LPVOID*) &m_pSegment ) ) )\n      {\n          throw CAncCannotLoadObjectFromFile();\n\n    return false;\n      }\n\n\n     m_pSegment-&gt;Download(m_pPerformance);\n\n   if (m_sRepeats == ANCSOUND_REPEAT_FOREVER)\n    m_pSegment-&gt;SetRepeats(DMUS_SEG_REPEAT_INFINITE);\n   else\n    m_pSegment-&gt;SetRepeats(m_sRepeats);\n\n\n   m_bLoaded = true;\n\n   return true;\n\n  }\n\n  Diego G. Ruiz\n  deadLock++\n    ----- Original Message -----\n    From: Sergio Cossa\n    To: JuegosAR@...\n    Sent: Saturday, May 04, 2002 10:22 AM\n    Subject: [ADVA] Consulta sobre el HWND y las MFC\n\n\n    Hola gente, presento esta cuesti�n... Aclaro que no me sobra\nconocimiento en C++ y tampoco en DX...\n\n    Tengo un programa open source que baj� de la web... y estoy tratando de\nponerle algo de sonido (wav) con DirectSound.\n\n    El punto es que para inicializar el sonido necesito el HWND de la\nventana actual y este programa la crea a trav�s de una clase que hace una\nllamada a un m�todo DoModal de las MFC ( DlgCore.cpp )... el cual no me\nregresa nunca ese handle, sino que se queda dentro de un loop (en las mismas\nMFC) leyendo el teclado, etc.\n\n    Al presionar algunas teclas, vuelvo a tener el control del c�digo, pero\nno tengo forma de obtener ese dato... Se me ocurre que puede haber alguna\nfunci�n que me devuelve el HWND de la ventana actual...\n\n    Se podr� resolver este problema? Tal vez sea m�s f�cil de lo que\nsupongo... o al menos eso espero.\n\n    Desde ya, muchas gracias!!\n\n    Sergio Cossa - R�o Cuarto (Cba.)\n\n\n\n----------------------------------------------------------------------------\n    Hable con sus amigos en l�nea, pruebe MSN Messenger: Haga clic aqu�\n\n    To unsubscribe from this group, send an email to:\n    JuegosAR-unsubscribe@egroups.com\n\n\n\n    Tu uso de Yahoo! Grupos est� sujeto a las Condiciones del servicio de\nYahoo!.\n\n\n  To unsubscribe from this group, send an email to:\n  JuegosAR-unsubscribe@egroups.com\n\n\n\n  Tu uso de Yahoo! Grupos est� sujeto a las Condiciones del servicio de\nYahoo!.\n\n\r\n------=_NextPart_000_0034_01C1F369.1FA18800\r\nContent-Type: text/html;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;=\r\n\n&lt;META http-equiv=3DContent-Type content=3D&quot;text/html; charset=3Diso-8859-1=\r\n&quot;&gt;\n&lt;META content=3D&quot;MSHTML 6.00.2715.400&quot; name=3DGENERATOR&gt;\n&lt;STYLE&gt;&lt;/STYLE&gt;=\r\n\n&lt;/HEAD&gt;\n&lt;BODY bgColor=3D#fffbf0&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff s=\r\nize=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D=\r\n2&gt;&lt;SPAN \nclass=3D694273115-04052002&gt;&nbsp;&nbsp;&nbsp; Tu problema es que e=\r\nstas usando un \ndialogo... Lo mas clasico es usar una ventana comun que la =\r\ncreas antes y vos \nmanejas el message pump, claro... sin MFC...&lt;/SPAN&gt;&lt;/FON=\r\nT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D69=\r\n4273115-04052002&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=\r\n=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D694273115-04052002&gt;&nbsp;&nbsp;&nbsp; Us=\r\nando un dialogo con, o sin MFC, \nvas a tener el mismo quilombo. Porque ya s=\r\nea llamando DoModal de MFC, o \nDialogBoxParam, o algo asi... siempre vas a =\r\ntener que hacer tus inicializaciones \nen el WM_INITDIALOG, que es el mensaj=\r\ne que te manda windows cuando la ventana \ncon tu dialogo esta creada. Por s=\r\nupuesto estoy hablando de las inicializaciones \ndonde necesitas un HWND.&lt;/S=\r\nPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nc=\r\nlass=3D694273115-04052002&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DAria=\r\nl color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D694273115-04052002&gt;&nbsp;&nbsp;&n=\r\nbsp; En MFC OnInitDialog es el metodo que \nse llama cuando te llega el WM_I=\r\nNITDIALOG.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=\r\n=3D2&gt;&lt;SPAN \nclass=3D694273115-04052002&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FON=\r\nT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D694273115-04052002&gt;&=\r\nnbsp;&nbsp;&nbsp; Si es una aplicacion de dialogo de \nMFC lo unico que es e=\r\ns una CDialog con un DoModal en el InitInstance de la \napicacion principal.=\r\n Cuando el dialogo sale la aplicacion se cierra. Tenes que \nmeter todo en, =\r\no mejor dicho, llamar todo desde, los metodos de la clase que \nderiva de CD=\r\nialog. Con el class wizard es muy facil. Elegis los metodos y te \nagrega el=\r\n codigo solo. El problema es que tener que implementar todo con \neventos. O=\r\n sea... cuando el tipo toca un boton, cuando toca una tecla, etc... \nClaro =\r\nque esto puede no ser un problema y ser exactamente lo que \nqueres.&lt;/SPAN&gt;&lt;=\r\n/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=\r\n=3D694273115-04052002&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial co=\r\nlor=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D694273115-04052002&gt;&nbsp;&nbsp;&nbsp;=\r\n Sino... podes usar otro thread \nAfxCreateThread() ... o algo asi, antes de=\r\nl DoModal()... y sincronizar con cosas \ncomo WaitForSingleObject() ... Ente=\r\nrCriticalSection() y todas esas cosas... \n&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT f=\r\nace=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D694273115-04052002&gt;&lt;/SP=\r\nAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SP=\r\nAN \nclass=3D694273115-04052002&gt;&nbsp;&nbsp;&nbsp; Que es exactamente lo que=\r\n estas \ntratando de hacer?&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial colo=\r\nr=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D694273115-04052002&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;=\r\n&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D6942=\r\n73115-04052002&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#=\r\n0000ff size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;BLOCKQUOTE \nstyle=3D&quot;PADDING-LEFT: 5px=\r\n; MARGIN-LEFT: 5px; BORDER-LEFT: #0000ff 2px solid&quot;&gt;\n  &lt;DIV class=3DOutlook=\r\nMessageHeader dir=3Dltr align=3Dleft&gt;&lt;FONT face=3DTahoma \n  size=3D2&gt;-----O=\r\nriginal Message-----&lt;BR&gt;&lt;B&gt;From:&lt;/B&gt; Diego G. Ruiz At Neptra \n  [mailto:die=\r\ngo.ruiz@...]&lt;BR&gt;&lt;B&gt;Sent:&lt;/B&gt; S=E1bado, 04 de Mayo de 2002 \n  11:51&lt;B=\r\nR&gt;&lt;B&gt;To:&lt;/B&gt; JuegosAR@...&lt;BR&gt;&lt;B&gt;Subject:&lt;/B&gt; Re: [ADVA] \n  C=\r\nonsulta sobre el HWND y las MFC&lt;BR&gt;&lt;BR&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DAr=\r\nial size=3D2&gt;En realidad no necesit=E1s el HWND, ya que si le \n  pasas NULL=\r\n toma el HWND de la ventana que est=E1 en foreground. Te transcribo un \n  m=\r\n=E9todo de una clase de sonido de mi engine.&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=\r\n=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Fi=\r\njate que el tercer par=E1metro de InitAudio es \n  NULL (hay variables en el=\r\n c=F3digo que son propiedades de la clase, pero creo \n  que no hace falta a=\r\nclaraciones m_ es de member y la primer letra representa el \n  tipo de dato=\r\n b es boolean, sz es un array de chars, psz es un puntero a char, \n  etc et=\r\nc etc). Los throw son excepciones C++ que tira el m=E9todo cuando no puede =\r\n\n  inicializar, para el caso este ni le des bola.&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT=\r\n face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DCourier size=\r\n=3D2&gt;bool CAncSound::Load(char * \n  pszWavFileName)&lt;BR&gt;{&lt;BR&gt;&nbsp;char szPa=\r\nth[MAX_PATH];&lt;BR&gt;&nbsp;char \n  szFile[MAX_PATH];&lt;BR&gt;&nbsp;SplitPathAndFile(=\r\n(const char *) pszWavFileName, \n  szPath, szFile);&lt;BR&gt;&nbsp;&lt;BR&gt;&nbsp;&lt;BR&gt;&=\r\nnbsp;if \n  (m_bLoaded)&lt;BR&gt;&nbsp;&nbsp;return false;&lt;BR&gt;&nbsp;&lt;BR&gt;&nbsp;// I=\r\nnicializo el \n  COM&lt;BR&gt;&nbsp;&nbsp;&nbsp; CoInitialize(NULL);&lt;BR&gt;&nbsp;&nbs=\r\np;&nbsp; \n  &lt;BR&gt;&nbsp;&nbsp;&nbsp; // Creo el objeto loader&lt;BR&gt;&nbsp;&nbsp;=\r\n&nbsp; \n  CoCreateInstance( CLSID_DirectMusicLoader, NULL, CLSCTX_INPROC, \n=\r\n  &lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=\r\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  IID_IDirectMus=\r\nicLoader8, (void**)&amp;m_pLoader );&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DCouri=\r\ner size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DCourier size=3D2&gt;&nbsp;=\r\n&nbsp;&nbsp; // Creo el objeto \n  performance&lt;BR&gt;&nbsp;&nbsp;&nbsp; CoCreat=\r\neInstance( \n  CLSID_DirectMusicPerformance, NULL, CLSCTX_INPROC, \n  &lt;BR&gt;&nb=\r\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  IID_IDirectMusicPerform=\r\nance8, (void**)&amp;m_pPerformance );&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DCour=\r\nier size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DCourier size=3D2&gt;// In=\r\nicializo el DirectMusic y el \n  DirectSound&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=\r\n=3DCourier size=3D2&gt;m_pPerformance-&gt;InitAudio( NULL, NULL, NULL, \n  &lt;BR&gt;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=\r\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  DMUS_APATH_DYNAMIC_STEREO, \n  64,&lt;BR&gt;&nbs=\r\np;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=\r\nnbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=\r\np;&nbsp;&nbsp;&nbsp;&nbsp; \n  DMUS_AUDIOF_ALL, NULL );&lt;BR&gt;&nbsp;&lt;BR&gt;&lt;/FONT&gt;=\r\n&lt;FONT face=3DCourier \n  size=3D2&gt;&nbsp;&nbsp;&nbsp;&lt;BR&gt;&nbsp;&nbsp;&nbsp; /=\r\n/&nbsp;Indico el path de \n  b=FAsqueda&lt;BR&gt;&nbsp;&nbsp;&nbsp; WCHAR \n  wstrS=\r\nearchPath[MAX_PATH];&lt;BR&gt;&nbsp;&nbsp;&nbsp; MultiByteToWideChar( CP_ACP, \n  =\r\n0, szPath, -1, \n  &lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=\r\n;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=\r\nbsp;&nbsp;&nbsp; \n  wstrSearchPath, MAX_PATH );&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT f=\r\nace=3DCourier size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DCourier size=\r\n=3D2&gt;&nbsp;m_pLoader-&gt;SetSearchDirectory( \n  GUID_DirectMusicAllTypes, \n=\r\n  &lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=\r\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  wstrSearchPath, FALSE );&lt;BR&gt;&=\r\nnbsp;&nbsp;&nbsp; &lt;BR&gt;&nbsp;&nbsp;&nbsp; \n  //&nbsp;Cargo el segmente desde=\r\n el archivo&lt;BR&gt;&nbsp;&nbsp;&nbsp; WCHAR \n  wstrFileName[MAX_PATH];&lt;BR&gt;&nbsp=\r\n;MultiByteToWideChar( CP_ACP, 0, szFile, -1, \n  &lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp=\r\n;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=\r\nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  wstrFileName, MAX_PATH);&lt;=\r\n/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DCourier size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DI=\r\nV&gt;&lt;FONT face=3DCourier size=3D2&gt;&nbsp;&nbsp;&nbsp; if( FAILED( \n  m_pLoader=\r\n-&gt;LoadObjectFromFile( \n  CLSID_DirectMusicSegment,&lt;BR&gt;&nbsp;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=\r\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=\r\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  IID_IDirectMusicSegment8,&lt;BR&gt;&nbsp;&nb=\r\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=\r\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  wstrFileName,&lt;BR&gt;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=\r\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=\r\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  (LPVOID*) &amp;m_pSegment ) ) )&lt;=\r\nBR&gt;&nbsp;&nbsp;&nbsp; \n  {&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; th=\r\nrow \n  CAncCannotLoadObjectFromFile();&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DCou=\r\nrier size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DCourier size=3D2&gt;&nbs=\r\np;&nbsp;return false;&lt;BR&gt;&nbsp;&nbsp;&nbsp; \n  }&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT =\r\nface=3DCourier size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DCourier siz=\r\ne=3D2&gt;&lt;BR&gt;&nbsp;&nbsp; \n  m_pSegment-&gt;Download(m_pPerformance);&lt;/FONT&gt;&lt;/=\r\nDIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DCourier size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT =\r\nface=3DCourier size=3D2&gt;&nbsp;if (m_sRepeats =3D=3D \n  ANCSOUND_REPEAT_FORE=\r\nVER)&lt;BR&gt;&nbsp;&nbsp;m_pSegment-&gt;SetRepeats(DMUS_SEG_REPEAT_INFINITE);&lt;BR=\r\n&gt;&nbsp;else&lt;BR&gt;&nbsp;&nbsp;m_pSegment-&gt;SetRepeats(m_sRepeats);&lt;/FONT&gt;&lt;/D=\r\nIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DCourier size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT f=\r\nace=3DCourier size=3D2&gt;&nbsp;&nbsp;&nbsp; &lt;BR&gt;&nbsp;m_bLoaded =3D \n  true;&lt;=\r\n/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DCourier size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DI=\r\nV&gt;&lt;FONT face=3DCourier size=3D2&gt;&nbsp;return true;&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FON=\r\nT face=3DCourier size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DCourier s=\r\nize=3D2&gt;}&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DI=\r\nV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Diego G. Ruiz&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FO=\r\nNT face=3DArial size=3D2&gt;deadLock++&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;BLOCKQUOTE \n  style=3D&quot;=\r\nPADDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #0000=\r\n00 2px solid; MARGIN-RIGHT: 0px&quot;&gt;\n    &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;-----=\r\n Original Message ----- &lt;/DIV&gt;\n    &lt;DIV \n    style=3D&quot;BACKGROUND: #e4e4e4; =\r\nFONT: 10pt arial; font-color: black&quot;&gt;&lt;B&gt;From:&lt;/B&gt; \n    &lt;A title=3Dchechocos=\r\nsa@... \n    href=3D&quot;mailto:chechocossa@...&quot;&gt;Sergio Cossa&lt;/A=\r\n&gt; &lt;/DIV&gt;\n    &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;To:&lt;/B&gt; &lt;A \n    title=3DJue=\r\ngosAR@... \n    href=3D&quot;mailto:JuegosAR@...&quot;&gt;J=\r\nuegosAR@...&lt;/A&gt; \n    &lt;/DIV&gt;\n    &lt;DIV style=3D&quot;FONT: 10pt ari=\r\nal&quot;&gt;&lt;B&gt;Sent:&lt;/B&gt; Saturday, May 04, 2002 10:22 \n    AM&lt;/DIV&gt;\n    &lt;DIV style=\r\n=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Subject:&lt;/B&gt; [ADVA] Consulta sobre el HWND \n    y =\r\nlas MFC&lt;/DIV&gt;\n    &lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&lt;FONT face=3DAria=\r\nl \nsize=3D2&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;/DIV&gt;\n    &lt;DIV&gt;\n    &lt;DIV&gt;\n    &lt;P&gt;Hola gente, presen=\r\nto esta cuesti=F3n... Aclaro que no me sobra conocimiento \n    en C++ y tam=\r\npoco en DX... &lt;/P&gt;\n    &lt;P&gt;Tengo un&nbsp;programa open source que baj=E9 de =\r\nla web... y estoy tratando \n    de ponerle algo de sonido (wav) con DirectS=\r\nound.&lt;/P&gt;&lt;/DIV&gt;\n    &lt;P&gt;El punto es que para inicializar el sonido necesito =\r\nel HWND de la ventana \n    actual y este programa la crea a trav=E9s de una=\r\n clase que hace una llamada a \n    un m=E9todo DoModal de las MFC ( DlgCore=\r\n.cpp )... el cual no me regresa nunca \n    ese handle, sino que se queda de=\r\nntro de un loop (en las mismas MFC) leyendo \n    el teclado, etc.&lt;/P&gt;\n    &lt;=\r\nP&gt;Al presionar algunas teclas, vuelvo a tener el control del c=F3digo, pero=\r\n \n    no tengo forma de obtener ese dato... Se me ocurre que puede haber al=\r\nguna \n    funci=F3n que me devuelve el HWND de la ventana actual...&lt;/P&gt;\n   =\r\n &lt;DIV&gt;&lt;/DIV&gt;\n    &lt;P&gt;Se podr=E1 resolver este problema? Tal vez sea m=E1s f=\r\n=E1cil de lo que \n    supongo... o al menos eso espero.&lt;/P&gt;\n    &lt;DIV&gt;&lt;/DIV&gt;=\r\n\n    &lt;P&gt;Desde ya, muchas gracias!!&lt;/P&gt;\n    &lt;DIV&gt;&lt;/DIV&gt;\n    &lt;P&gt;Sergio Cossa =\r\n- R=EDo Cuarto (Cba.)&lt;/P&gt;\n    &lt;DIV&gt;&lt;/DIV&gt;\n    &lt;DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;BR clear=3D=\r\nall&gt;\n    &lt;HR&gt;\n    Hable con sus amigos en l=EDnea, pruebe MSN Messenger: &lt;A=\r\n \n    href=3D&quot;http://g.msn.com/1HM105901/26&quot;&gt;Haga clic aqu=ED&lt;/A&gt;&lt;BR&gt;&lt;BR&gt;&lt;T=\r\nT&gt;To \n    unsubscribe from this group, send an email \n    to:&lt;BR&gt;JuegosAR-u=\r\nnsubscribe@egroups.com&lt;BR&gt;&lt;BR&gt;&lt;/TT&gt;&lt;BR&gt;&lt;BR&gt;&lt;TT&gt;Tu uso de \n    Yahoo! Grupos=\r\n est=E1 sujeto a las &lt;A \n    href=3D&quot;http://ar.docs.yahoo.com/info/utos.htm=\r\nl&quot;&gt;Condiciones del servicio de \n    Yahoo!&lt;/A&gt;.&lt;/TT&gt; &lt;BR&gt;&lt;/BLOCKQUOTE&gt;&lt;BR&gt;&lt;=\r\nTT&gt;To unsubscribe from this group, send \n  an email to:&lt;BR&gt;JuegosAR-unsubsc=\r\nribe@egroups.com&lt;BR&gt;&lt;BR&gt;&lt;/TT&gt;&lt;BR&gt;&lt;BR&gt;&lt;TT&gt;Tu \n  uso de Yahoo! Grupos est=E1 =\r\nsujeto a las &lt;A \n  href=3D&quot;http://ar.docs.yahoo.com/info/utos.html&quot;&gt;Condici=\r\nones del servicio de \n  Yahoo!&lt;/A&gt;.&lt;/TT&gt; &lt;BR&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;\n\r\n------=_NextPart_000_0034_01C1F369.1FA18800--\r\n\n"}}