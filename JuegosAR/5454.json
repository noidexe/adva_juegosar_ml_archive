{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"WELCOME_MSG"}]},{"resourceType":"PHOTO","capabilities":[{"name":"READ"},{"name":"UPLOAD"},{"name":"UPLOADTEMP"}]},{"resourceType":"FILE","capabilities":[{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"MEMBER","capabilities":[{"name":"READ"}]},{"resourceType":"LINK","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"CALENDAR","capabilities":[{"name":"READ"}]},{"resourceType":"DATABASE","capabilities":[{"name":"READ"},{"name":"CREATE"},{"name":"READ_DATA"}]},{"resourceType":"POLL","capabilities":[{"name":"READ"},{"name":"VOTE"},{"name":"CREATE"}]},{"resourceType":"MESSAGE","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[{"name":"READ"},{"name":"UPLOAD"}]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[{"name":"READ"}]},{"resourceType":"POST","capabilities":[{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"PIN","capabilities":[{"name":"READ"},{"name":"UPDATE"},{"name":"CREATE"},{"name":"DELETE"}]}],"subStatus":"NORMAL","groupUrl":"ar.groups.yahoo.com","intlCode":"ar"},"comscore":"pageview_candidate","ygData":{"userId":3628932,"authorName":"Fernando Salas","from":"&quot;Fernando Salas&quot; &lt;fsalas@...&gt;","profile":"fsalastaxo","replyTo":"LIST","senderId":"1hS2eN9N6zCNcVYXqKYnnZXvaLth6sPAqBCVrbp1W7RRPrroNwuazrsAlfJsfBzVuEBMQIOcd4hzv2KPfnX4f3LA7xjoFYoXs7A-CKSkiLA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [ADVA]  MultiThreading en Juegos","postDate":"1031628586","msgId":5454,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAxMTYwMWMyNTg3YSQ1MDFhMjNlMCQwNTAwYThjMEBjaXByZXM+","referencesHeader":"PDEwMzEzOTk5NzIuMjc3LjExNjE5Lm0xMkBncnVwb3N5YWhvby5jb20uYXI+IDwwMDAzMDFjMjU4NzUkMWJhNGQzODAkM2NkMTQ0YzhAcGN3aW5kb3dzPg=="},"prevInTopic":5453,"nextInTopic":5455,"prevInTime":5453,"nextInTime":5455,"topicId":5453,"numMessagesInTopic":6,"msgSnippet":"Leonardo: El problema es el siguiente, suponete que estas haciendo un juego donde tu target es obtener como mínimo 30 frames, ahora entonces eso implica que ","rawEmail":"Return-Path: &lt;fsalas@...&gt;\r\nX-Sender: fsalas@...\r\nX-Apparently-To: JuegosAR@...\r\nReceived: (EGP: mail-8_1_0_1); 10 Sep 2002 03:29:47 -0000\r\nReceived: (qmail 28635 invoked from network); 10 Sep 2002 03:29:47 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m6.grp.scd.yahoo.com with QMQP; 10 Sep 2002 03:29:47 -0000\r\nReceived: from unknown (HELO mail.fibertel.com.ar) (24.232.0.78)\n  by mta1.grp.scd.yahoo.com with SMTP; 10 Sep 2002 03:29:46 -0000\r\nReceived: from cipres (24.232.143.73) by mail.fibertel.com.ar (5.5.034) (authenticated as fsalas@...)\n        id 3D7622A3000FF4E7 for JuegosAR@...; Tue, 10 Sep 2002 00:29:46 -0300\r\nMessage-ID: &lt;011601c2587a$501a23e0$0500a8c0@cipres&gt;\r\nTo: &lt;JuegosAR@...&gt;\r\nReferences: &lt;1031399972.277.11619.m12@...&gt; &lt;000301c25875$1ba4d380$3cd144c8@pcwindows&gt;\r\nSubject: Re: [ADVA]  MultiThreading en Juegos\r\nDate: Tue, 10 Sep 2002 00:29:46 -0300\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 8bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 6.00.2600.0000\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000\r\nFrom: &quot;Fernando Salas&quot; &lt;fsalas@...&gt;\r\nX-Yahoo-Group-Post: member; u=3628932\r\nX-Yahoo-Profile: fsalastaxo\r\n\r\nLeonardo:\n\n    El problema es el siguiente, suponete que estas haciendo un juego donde\ntu target es obtener como m�nimo 30 frames, ahora entonces eso implica que\nel tiempo que tenes para procesar cada cuadro es de 1/30s aprox 33 ms.\nTomemos un tick del scheduler de windows de 20ms para esto, no se el valor\nexacto pero es lo que pude encontrar en los docs\nSuponete que tenes un thread para el engine grafico y otro para la IA, el\ndel engine grafico tendra seguramente una prioridad algo superior, ya que la\nidea es que &quot;interrumpa&quot; el trabajo del thread de la IA para que nunca\npierda cuadros, no es cierto?\n\nBien:\n Suponete que ahora en unos cuadro graficamente intensivos tu engine grafico\nconsume 25 ms, quedar�an 8 ms libres para que corra la IA, pero que pasa,\nentonces puede darse el siguiente caso, si asumimos que el comenzo de cuadro\nesta mas o menos alineado con el tick del scheduler, tendremos el siguiente\nesquema:\n\ndonde la X es quien tiene el procesador\n\n\nGrafico xxxxxxxxxxxxxxxxxxxxxx           xxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxx\n\n\nIA                            xxxxxxxxxxx               xxxxxxxxxxxx\n\n\n0------------20ms---25ms--33ms--40ms------60ms--66ms-------80ms-------99ms--\n--105ms\n                                   1er cuadro            2do cuadro\n3er cuadro(perdido)\n        a       b                 c            d             e\nf\nla secuencia es la siguiente\n\na.-Empezamos en 0 (arbritariamente el tick y el comienzo de cuadro estan\nalineados, pero com veran eso no importa)\n\nb.-Durante 25 ms el engine grafico tiene el control y dibuja el primer\ncuadro, queda a la espera y por lo tanto cede el control voluntariamente\n\nc.-La IA toma control , a los 33ms se marca el comienzo del segundo cuadro y\nel engine grafico entra en la cola de ejecucion, la IA continua corriendo\nhasta el tick del scheduler, que ocurre a  los 40 ms\n\nd.-A los 40 ms toma el control el engine grafico, una vez mas se toma 25 ms\npara procesar el cuadro, y termina justito ya que a los 66ms el cuadro es\npresentado, una vez mas queda a la espera y cede el control.\n\ne.-Una vez mas la IA toma el control, a los 65 ms cuando el engine grafico\ncede el control, a los 66ms el engine grafico entra nuevamente a la cola de\nejecucion , pero esta vez tendra que esperara hasta los 80ms para que el\ntick se produzca y gane el control\n\nf.- Finalmente el engine grafico toma el control a los 80ms, pero esta vez a\nlos 99ms, cuando el tercer cuadro es presentado, el engine no ha terminado\nsu trabajo por lo que se le cae un cuadro\n\nSi continuan el grafico veran que es un desastre que pierde cuadros a lo\nloco, ese es el problema, si el tick fuera cada ms entonces no habria\nproblema, a eso me referia en el otro mail\n\nFer\n----- Original Message -----\nFrom: &quot;Leonardo Moreno&quot; &lt;lgmdp@...&gt;\nTo: &lt;JuegosAR@...&gt;\nSent: Monday, September 09, 2002 11:41 PM\nSubject: RE: [ADVA] MultiThreading en Juegos\n\n\n&gt; Fernando, le� tu mensaje pero no logro entender cu�l es el problema que\n&gt; surge en el escenario que describ�s...\n&gt; Si estamos usando los threads para la IA, no importa que los m�s pensantes\n&gt; consuman sus 20 ms, si es lo que realmente precisan... Es m�s, para eso\n&gt; usamos multithreading, para que puedan pensar durante varios frames hasta\n&gt; decidir algo...\n&gt; Me interesa este punto, porque dentro de poco voy a empezar con un engine\ny\n&gt; pensaba arrancar un Thread por actor inteligente... yo utilic� ese esquema\n&gt; en juegos relativamente peque�os y visualmente no not� nada anormal,\n&gt; as� que pensaba repetirlo ahora en un proyecto ambicioso.\n&gt; Te agradecer�a que me pudieras ampliar un poco d�nde est� el problema.\n&gt; Muchas gracias.\n&gt;\n&gt;       Leo\n&gt;\n&gt; ________________________________________________________________________\n&gt; ________________________________________________________________________\n&gt;\n&gt; Mensaje: 2\n&gt;   Fecha: Fri, 6 Sep 2002 17:05:51 -0300\n&gt;      De: &quot;Fernando Salas&quot; &lt;fsalas@...&gt;\n&gt;  Asunto: Fw: MultiThreading en Juegos\n&gt;\n&gt;\n&gt; (...)\n&gt; Yo , tras pensar as�, decid� tratar con multithread, hasta que comence a\n&gt; reparar en el siguiente detalle, el cambio de thread a otro thread se\n&gt; produce, o bien cuando una thread deja voluntariamente el control , o bien\n&gt; en cada tick del scheduler de windows, al evaluar cual tiene que correr,\n&gt; bien buscando por ahi bastante, encontr� que el tick de Windows anda por\nlos\n&gt; 20ms, Ouch! , si tenemos en cuenta que si deseamos que nuestro juego corra\n&gt; por ejemplo a 50 cuadros, el per�odo de cada cuadro es de 1/50 s = 0.02 s\n=\n&gt; 20 ms, osea que el multithreading normal en juegos FPS no debe funcionar\nmuy\n&gt; bien, aun a 15 cuadros hay tan solo con suerte 3 ticks.\n&gt; (...)\n&gt;\n&gt; Fer\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ADVA - Asociaci�n de Desarrolladores de Videojuegos Argentina.\n&gt;\n&gt; www.adva.com.ar\n&gt; -------------------------------------------------------.\n&gt;\n&gt;\n&gt;\n&gt; Tu uso de Yahoo! Grupos est� sujeto a las\nhttp://ar.docs.yahoo.com/info/utos.html\n&gt;\n&gt;\n&gt;\n\n\n"}}