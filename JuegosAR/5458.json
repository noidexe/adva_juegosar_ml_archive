{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"WELCOME_MSG"}]},{"resourceType":"PHOTO","capabilities":[{"name":"READ"},{"name":"UPLOAD"},{"name":"UPLOADTEMP"}]},{"resourceType":"FILE","capabilities":[{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"MEMBER","capabilities":[{"name":"READ"}]},{"resourceType":"LINK","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"CALENDAR","capabilities":[{"name":"READ"}]},{"resourceType":"DATABASE","capabilities":[{"name":"READ"},{"name":"CREATE"},{"name":"READ_DATA"}]},{"resourceType":"POLL","capabilities":[{"name":"READ"},{"name":"VOTE"},{"name":"CREATE"}]},{"resourceType":"MESSAGE","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[{"name":"READ"},{"name":"UPLOAD"}]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[{"name":"READ"}]},{"resourceType":"POST","capabilities":[{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"PIN","capabilities":[{"name":"READ"},{"name":"UPDATE"},{"name":"CREATE"},{"name":"DELETE"}]}],"subStatus":"NORMAL","groupUrl":"ar.groups.yahoo.com","intlCode":"ar"},"comscore":"pageview_candidate","ygData":{"userId":63432839,"authorName":"Juan Linietsky","from":"Juan Linietsky &lt;coding@...&gt;","replyTo":"LIST","senderId":"cuxmfaAwb4GW8-Pl1q-BBxVRTn97HHc-1sCfNzaHuvj7cl4UkS5ZIP9UM4xCLeRqYRLb7TvlA_sjEBL8bQfZBruFURT0Icv75FoF","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [ADVA]  MultiThreading en Juegos","postDate":"1031633450","msgId":5458,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDIwOTEwMDE1MDUwLjZhZjMwYTJkLmNvZGluZ0ByZWR1ei5jb20uYXI+","inReplyToHeader":"PDAxMjYwMWMyNTg4MiQ4MDQyMzJkMCQwNTAwYThjMEBjaXByZXM+","referencesHeader":"PDEwMzEzOTk5NzIuMjc3LjExNjE5Lm0xMkBncnVwb3N5YWhvby5jb20uYXI+CTwwMDAzMDFjMjU4NzUkMWJhNGQzODAkM2NkMTQ0YzhAcGN3aW5kb3dzPgk8MDExNjAxYzI1ODdhJDUwMWEyM2UwJDA1MDBhOGMwQGNpcHJlcz4JPDIwMDIwOTEwMDExMTQ5LjE3NTlhNmYwLmNvZGluZ0ByZWR1ei5jb20uYXI+CTwwMTI2MDFjMjU4ODIkODA0MjMyZDAkMDUwMGE4YzBAY2lwcmVzPg=="},"prevInTopic":5457,"nextInTopic":0,"prevInTime":5457,"nextInTime":5459,"topicId":5453,"numMessagesInTopic":6,"msgSnippet":"On Tue, 10 Sep 2002 01:28:23 -0300 ... Mira, en unixes al menos, este tipo de cosas se solucionan usando lock-free fifos proporcionados por el sistema","rawEmail":"Return-Path: &lt;coding@...&gt;\r\nX-Sender: coding@...\r\nX-Apparently-To: JuegosAR@...\r\nReceived: (EGP: mail-8_1_0_1); 10 Sep 2002 04:50:32 -0000\r\nReceived: (qmail 78019 invoked from network); 10 Sep 2002 04:50:32 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m7.grp.scd.yahoo.com with QMQP; 10 Sep 2002 04:50:32 -0000\r\nReceived: from unknown (HELO john.anime.com.ar) (64.113.39.216)\n  by mta2.grp.scd.yahoo.com with SMTP; 10 Sep 2002 04:50:32 -0000\r\nReceived: from server (OL110-150.fibertel.com.ar [24.232.150.110])\n\tby john.anime.com.ar (8.9.3/8.9.3) with SMTP id AAA06588\n\tfor &lt;JuegosAR@...&gt;; Tue, 10 Sep 2002 00:50:25 -0400\r\nDate: Tue, 10 Sep 2002 01:50:50 -0300\r\nTo: JuegosAR@...\r\nSubject: Re: [ADVA]  MultiThreading en Juegos\r\nMessage-Id: &lt;20020910015050.6af30a2d.coding@...&gt;\r\nIn-Reply-To: &lt;012601c25882$804232d0$0500a8c0@cipres&gt;\r\nReferences: &lt;1031399972.277.11619.m12@...&gt;\n\t&lt;000301c25875$1ba4d380$3cd144c8@pcwindows&gt;\n\t&lt;011601c2587a$501a23e0$0500a8c0@cipres&gt;\n\t&lt;20020910011149.1759a6f0.coding@...&gt;\n\t&lt;012601c25882$804232d0$0500a8c0@cipres&gt;\r\nOrganization: Codenix\r\nX-Mailer: Sylpheed version 0.7.6 (GTK+ 1.2.10; i386-debian-linux-gnu)\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 8bit\r\nFrom: Juan Linietsky &lt;coding@...&gt;\r\nX-Yahoo-Group-Post: member; u=63432839\r\n\r\nOn Tue, 10 Sep 2002 01:28:23 -0300\n&quot;Fernando Salas&quot; &lt;fsalas@...&gt; wrote:\n\n&gt; \n&gt; ----- Original Message -----\n&gt; From: &quot;Juan Linietsky&quot; &lt;coding@...&gt;\n&gt; To: &lt;JuegosAR@...&gt;\n&gt; Sent: Tuesday, September 10, 2002 1:11 AM\n&gt; Subject: Re: [ADVA] MultiThreading en Juegos\n&gt; \n&gt; \n&gt; &gt; Si continuan el grafico veran que es un desastre que pierde\n&gt; &gt; cuadros a lo loco, ese es el problema, si el tick fuera cada ms\n&gt; &gt; entonces no habria problema, a eso me referia en el otro mail\n&gt; &gt;\n&gt; \n&gt; &gt;El tick size es de 10ms para sincronizacion (limite del x86, que\n&gt; &gt;creo que ahora\n&gt; &gt;ya se supero)\n&gt; \n&gt; el problema es justamente el tick, y el limite esta/ba? dado por el\n&gt; hard de la PC y no por el micro en si\n&gt; \n&gt; &gt;El context switching es cada mucho menos (no tengo idea cada cuando\n&gt; &gt;pero\n&gt; &gt;muchisimo menos que un milisegundo).\n&gt; \n&gt; si, es del orden de los us\n&gt; \n&gt; &gt; El problema que comentas vos se\n&gt; &gt;soluciona\n&gt; &gt;simplemente bajando la prioridad del thread de IA, pero entonces\n&gt; &gt;ahi tenes\n&gt; &gt;que evitar el preemption de un proceso al otro y lograr una buena\n&gt; &gt;sincronizacion para evitar el priority inversion.\n&gt; \n&gt; Es que cuando tu tiempo de cuadro se acerca al del tick y la mayor\n&gt; parte del tiempo la usas en el thread grafico no tenes solucion(o al\n&gt; menos mi limitado y desgastado cerebro no la encuentra), ya que no\n&gt; podes evitar el priority inversion(sin agregar negradas al codigo\n&gt; del IA) ya que el scheduler va a hacer el context switch solo cuando\n&gt; finalice el tick como en el ejemplo que yo di, si tenes una soluciï¿½n\n&gt; a esto, me encantaria oirla\n&gt; \n\nMira, en unixes al menos, este tipo de cosas se solucionan usando\nlock-free fifos proporcionados por el sistema operativo \n(como un named pipe por ejemplo, o unix sockets) para comunicar\nlos datos de un thread al otro sin lockear (por ende, sin\nentrar al priority inversion). Y hay hasta implementaciones\nde mas alto nivel, pero que al menos en linux todavia\nno estan, pero si en solaris o aix (como los posix message queues). \nPero hasta ahora las unicas soluciones posibles al priority \ninversion son esas. En windows creo que podes usar windows messages,\ny no se que ondas los pipes. Tal como dijiste vos,\nson &quot;negradas&quot;. (y para mucha gente, los kernels \nnrt/monoliticos son negradas tambien por todo esto  :).\n\nYo personalmente tuve muchos problemas con esto porque hago\nprogramacion\nde aplicaciones de audio, y el mas minimo xrun en el audio thread te\narruina\nla sesion completa y te queres cortar las bolas. Por eso hay que tomar\ncientos de recaudos (desde mlockear el stack y memory pools, hasta\ncorrer ciertas zonas\ncriticas en FIFO scheduling), todo para evitar caer en un syscall de\nmierda o pagefault que \npor un par de milisegundos que se paso te arruina tu proceso de audio\ncorriendo en low latency.\nEl tema de sincronizacion es _crucial_ porque el audio thread no puede\ncomunicarse\ncon la interface bloqueando (priority inversion) , asi que me veo\nobligado a usar named pipes y usar casi un protocolo propio para pasar\nlos comandos.\n\nreduz\n\n\n\n\n\n\n"}}