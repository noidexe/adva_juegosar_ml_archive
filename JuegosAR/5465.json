{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"WELCOME_MSG"}]},{"resourceType":"PHOTO","capabilities":[{"name":"READ"},{"name":"UPLOAD"},{"name":"UPLOADTEMP"}]},{"resourceType":"FILE","capabilities":[{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"MEMBER","capabilities":[{"name":"READ"}]},{"resourceType":"LINK","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"CALENDAR","capabilities":[{"name":"READ"}]},{"resourceType":"DATABASE","capabilities":[{"name":"CREATE"},{"name":"READ"},{"name":"READ_DATA"}]},{"resourceType":"POLL","capabilities":[{"name":"READ"},{"name":"VOTE"},{"name":"CREATE"}]},{"resourceType":"MESSAGE","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[{"name":"READ"},{"name":"UPLOAD"}]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[{"name":"READ"}]},{"resourceType":"POST","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"PIN","capabilities":[{"name":"CREATE"},{"name":"DELETE"},{"name":"READ"},{"name":"UPDATE"}]}],"subStatus":"NORMAL","groupUrl":"ar.groups.yahoo.com","intlCode":"ar"},"comscore":"pageview_candidate","ygData":{"userId":109975053,"authorName":"Leonardo Moreno","from":"&quot;Leonardo Moreno&quot; &lt;lgmdp@...&gt;","profile":"gab00ar","replyTo":"LIST","senderId":"bCxAvKUW3xeUn4vSuJTZ1Rw5IYuSUBrNEOHwOsKvV5nh4Ef81sYFEcKwQp_LfdGFXnlSC22YizWFVsyeA-tAy9uwjvmB-ZrbetGKqA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"RE: [ADVA] MultiThreading en Juegos","postDate":"1031717452","msgId":5465,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAwMTAwMWMyNTk0OSRlZTM0ODgyMCQ1N2QxNDRjOEBwY3dpbmRvd3M+","referencesHeader":"PDEwMzE2NjkxMzIuMTk5LjQ0Mzg4Lm0xMkBncnVwb3N5YWhvby5jb20uYXI+"},"prevInTopic":5464,"nextInTopic":0,"prevInTime":5464,"nextInTime":5466,"topicId":5410,"numMessagesInTopic":16,"msgSnippet":"Gracias Juan por tus comentarios... Te comento que este diseño ya lo implementé hace un tiempo, con escenarios con menos de 15 actores simultáneos, y había","rawEmail":"Return-Path: &lt;lgmdp@...&gt;\r\nX-Sender: lgmdp@...\r\nX-Apparently-To: JuegosAR@...\r\nReceived: (EGP: mail-8_1_1_3); 11 Sep 2002 04:05:19 -0000\r\nReceived: (qmail 24949 invoked from network); 11 Sep 2002 04:05:19 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m3.grp.scd.yahoo.com with QMQP; 11 Sep 2002 04:05:19 -0000\r\nReceived: from unknown (HELO frontend02.cg.ifxnetworks.com) (200.62.58.50)\n  by mta1.grp.scd.yahoo.com with SMTP; 11 Sep 2002 04:05:19 -0000\r\nReceived: from [200.68.209.87] (account lgmdp@... HELO pcwindows)\n  by frontend02.cg.ifxnetworks.com (CommuniGate Pro SMTP 3.5.9)\n  with ESMTP id 95680275 for JuegosAR@...; Wed, 11 Sep 2002 00:05:07 -0400\r\nMessage-ID: &lt;001001c25949$ee348820$57d144c8@pcwindows&gt;\r\nTo: &lt;JuegosAR@...&gt;\r\nReferences: &lt;1031669132.199.44388.m12@...&gt;\r\nSubject: RE: [ADVA] MultiThreading en Juegos\r\nDate: Wed, 11 Sep 2002 01:10:52 -0300\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 8bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 5.00.2615.200\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200\r\nFrom: &quot;Leonardo Moreno&quot; &lt;lgmdp@...&gt;\r\nX-Yahoo-Group-Post: member; u=109975053\r\nX-Yahoo-Profile: gab00ar\r\n\r\nGracias Juan por tus comentarios... Te comento que este dise�o ya lo\nimplement� hace un tiempo, con escenarios con menos de 15 actores\nsimult�neos, y hab�a funcionado bien. Revisando el problema que planteaba\nFernando y las consideraciones que hac�s vos, me parece bastante factible\nque sea escalable a sistemas con mucha mayor cantidad de actores.\nTe comento que la implementaci�n que hice es muy semejante a la que\ndescrib�s/suger�s:\n\n&gt; 3-El actor va a procesar la IA en el idle time del main thread (ahora,\n&gt; si sos uno de esos programadores que creen que el main thread _nunca_\n&gt; tiene que estar idle, entonces tu IA va a ser la cosa mas lenta del\n&gt; mundo.\n\nEl main thread procesa el m�nimo necesario: si tengo 30 fps, no tiene\nsentido actualizar el estado m�s de 30 veces por segundo. El resto del\ntiempo, queda libre.\n\n&gt; Lo otro, es que podes hacer que tu sistema detecte la velocidad de cpu\n&gt; y de acuerdo a eso procese mas o menos IA.\n\nEl sistema monitoreaba la CPU. Cuando el tiempo no alcanzaba, actualizaba\ns�lo una parte del estado (con un simple &quot;round robin&quot;). Si segu�a sin\nsuficiente CPU, entonces bajaba el frame rate. �La IA no se toca! :)\n\nTe vuelvo a agradecer por tu an�lisis. Es mejor identificar todos los\nproblemas posibles antes que salgan del papel :)\n\nSaludos.\n\n       Leo\n\n________________________________________________________________________\n\nMensaje: 9\n  Fecha: Tue, 10 Sep 2002 00:51:09 -0300\n     De: Juan Linietsky &lt;coding@...&gt;\n Asunto: Re:  MultiThreading en Juegos\n\nEn un mundo ideal, donde el multithreading y el cpu scheduling son\nperfectos,\nesta solucion seria muy sencilla de implementar, pero como son las\ncosas en la\nvida real, es bastante dificil..\n\n(...)\n\nAhora.. tenes que pensar bien como manejas la prioridad del thread\n&quot;actor&quot;.\nTenes tres opciones...\n\n1-Mas arriba que el game thread\n2-Igual que el game thread\n3-Mas abajo que el game thread\n\n1-El actor va a hacer preemption al game thread, o sea, cuando este\npensando, el framerate\ny el cpu del juego va a bajar mucho, y va a tardar mas en volver del\nidle process (si es que usas eso).\n2-Va a estar parejo entre los dos, en sintesis, cuantos mas actores\n,menos cpu vas a tener, pero va a ser\n&quot;parejo&quot;.\n3-El actor va a procesar la IA en el idle time del main thread (ahora,\nsi sos uno de esos programadores que creen que el main thread _nunca_\ntiene que estar idle, entonces tu IA va a ser la cosa mas lenta del\nmundo.\nTeniendo en cuenta estos puntos, te diria.. creo que lo mejor es la\ntercera opcion, sin duda necesitas\ndarle idle time a tu proceso, (algo un poco jodido en windows y\narquitecturas x86 porque el minimo que podes darle al system clock son\nfracciones de 10 milisegundos. Esto lo vas a tener que manejar bien.\nLo otro, es que podes hacer que tu sistema detecte la velocidad de cpu\ny de acuerdo a eso procese mas o menos IA.\n\n(...)\n\nBueno, supongo que tenes mucho para investigar, saludos!\n\n\nreduz\n\n\n\n\n\n"}}