{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"WELCOME_MSG"}]},{"resourceType":"PHOTO","capabilities":[{"name":"READ"},{"name":"UPLOAD"},{"name":"UPLOADTEMP"}]},{"resourceType":"FILE","capabilities":[{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"MEMBER","capabilities":[{"name":"READ"}]},{"resourceType":"LINK","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"CALENDAR","capabilities":[{"name":"READ"}]},{"resourceType":"DATABASE","capabilities":[{"name":"READ_DATA"},{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"POLL","capabilities":[{"name":"READ"},{"name":"VOTE"},{"name":"CREATE"}]},{"resourceType":"MESSAGE","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[{"name":"READ"},{"name":"UPLOAD"}]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[{"name":"READ"}]},{"resourceType":"POST","capabilities":[{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"PIN","capabilities":[{"name":"DELETE"},{"name":"READ"},{"name":"UPDATE"},{"name":"CREATE"}]}],"subStatus":"NORMAL","groupUrl":"ar.groups.yahoo.com","intlCode":"ar"},"comscore":"pageview_candidate","ygData":{"userId":66118492,"authorName":"Diego G. Ruiz","from":"&quot;Diego G. Ruiz&quot; &lt;diego.ruiz@...&gt;","profile":"diegogabrielruiz","replyTo":"LIST","senderId":"PWjGDZ4NVGbAXJNeCa0hV3rATsvTQsw6DV0MXPbCFM1yM8MESDEsePIlS4TsMkL9AcBCrjA1KfVc9SpMvG-kG1MkwMUOn4cH5qKQzkw0","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [ADVA] Ingresando datos por teclado","postDate":"1035378558","msgId":5931,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAwNGUwMWMyN2E5NyQ4MDcyNzNmMCQ0MDAwYThjMEBkZWRhbHVzPg==","referencesHeader":"PE9FNTFIb1FvUERPZlhRbkVpbnIwMDAwNGYzZkBob3RtYWlsLmNvbT4="},"prevInTopic":5930,"nextInTopic":5932,"prevInTime":5930,"nextInTime":5932,"topicId":5917,"numMessagesInTopic":19,"msgSnippet":"Yo poleaba en cada loop y le√≠a el GetDeviceData, del siguiente modo: // +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ // Poleo","rawEmail":"Return-Path: &lt;diego.ruiz@...&gt;\r\nX-Sender: diego.ruiz@...\r\nX-Apparently-To: JuegosAR@...\r\nReceived: (EGP: mail-8_2_2_1); 23 Oct 2002 13:24:22 -0000\r\nReceived: (qmail 25554 invoked from network); 23 Oct 2002 13:24:21 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m15.grp.scd.yahoo.com with QMQP; 23 Oct 2002 13:24:21 -0000\r\nReceived: from unknown (HELO www.tuhosting.com.ar) (216.40.224.4)\n  by mta1.grp.scd.yahoo.com with SMTP; 23 Oct 2002 13:24:21 -0000\r\nReceived: from dedalus (lineaAW24.velocom.com.ar [200.59.53.24] (may be forged))\n\tby [216.40.224.117] (8.10.2/8.10.2) with SMTP id g9O189g26966\n\tfor &lt;JuegosAR@...&gt;; Wed, 23 Oct 2002 22:08:10 -0300\r\nMessage-ID: &lt;004e01c27a97$807273f0$4000a8c0@dedalus&gt;\r\nTo: &lt;JuegosAR@...&gt;\r\nReferences: &lt;OE51HoQoPDOfXQnEinr00004f3f@...&gt;\r\nSubject: Re: [ADVA] Ingresando datos por teclado\r\nDate: Wed, 23 Oct 2002 10:09:18 -0300\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----=_NextPart_000_0029_01C27A7C.400F19A0&quot;\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 6.00.2800.1106\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106\r\nFrom: &quot;Diego G. Ruiz&quot; &lt;diego.ruiz@...&gt;\r\nX-Yahoo-Group-Post: member; u=66118492\r\nX-Yahoo-Profile: diegogabrielruiz\r\n\r\n\r\n------=_NextPart_000_0029_01C27A7C.400F19A0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nYo poleaba en cada loop y le=EDa el GetDeviceData, del siguiente modo:\n\n\n//=\r\n ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++=\r\n+++\n // Poleo por el estado del teclado\n // +++++++++++++++++++++++++++++++=\r\n++++++++++++++++++++++++++++++++++++++++++++++\n HRESULT hRes;\n DWORD dwElem=\r\nents=3DMAX_DATA_BUFFER;\n DWORD i;\n\n if (m_bAcquireKeyboard && m_bKeyboardAv=\r\nailable)\n {\n      if (m_lpdidKeyboard-&gt;GetDeviceState(sizeof(m_ucKeyboardSt=\r\nate), (LPVOID) m_ucKeyboardState) =3D=3D DIERR_INPUTLOST)\n           Acquir=\r\ne();\n\n      hRes =3D m_lpdidKeyboard-&gt;GetDeviceData(sizeof(*m_pdidod),\n    =\r\n          m_pdidod,  // Estructura que alojara los elementos leidos del buf=\r\nfer\n              &dwElements, // En Entrada: Cantidad de elementos que pos=\r\nee mi array\n                  // En Salida: Cantidad de elementos que hab=\r\n=EDa en el buffer\n              0);    // Especifico que quiero retirar del=\r\n buffer la informaci=F3n leida\n\n      if (hRes =3D=3D DI_OK)\n      {\n      =\r\n     for (i=3D0; i&lt;dwElements; i++)\n           {\n\n            // Chequeo qu=\r\ne el evento sea KeyDown (y no KeyUp, porque sino registrar=E9\n            /=\r\n/ dos veces la misma tecla).\n            if (m_pdidod[i].dwData =3D=3D 0x80=\r\n || m_pdidod[i].dwData =3D=3D 0)\n            {\n     \n                 if (m=\r\n_pdidod[i].dwData =3D=3D 0x80)\n                 {     m_bKeyStatus[m_pdidod=\r\n[i].dwOfs] =3D true;\n                      Push(m_pdidod[i].dwOfs, true);\n =\r\n                }\n                 else\n                 {     m_bKeyStatus=\r\n[m_pdidod[i].dwOfs] =3D false;\n                      Push(m_pdidod[i].dwOfs=\r\n, false);\n                 }\n     \n           }\n       }\n\n       return tru=\r\ne;\n      }\n      else\n           return false;\n }\n else\n  return false;\n\nDi=\r\nego G. Ruiz\n----- Original Message ----- \n  From: Ignacio Liverotti \n  To: =\r\nLista ADVA \n  Sent: Monday, October 21, 2002 6:08 PM\n  Subject: [ADVA] Ingr=\r\nesando datos por teclado\n\n\n  Hola a todos,\n\n  Tengo una aplicaci=F3n a pant=\r\nalla completa (no es un juego, pero est=E1 hecha en DirectX), y necesito qu=\r\ne en un determinado momento el usuario ingrese unos valores num=E9ricos y, =\r\na medida que los va ingresando, los mismos vayan apareciendo dentro de un c=\r\nuadro de di=E1logo que no est=E1 hecho con la API de Windows sino que consi=\r\nste en un par de bmp=B4s bliteados en la pantalla para el cuadro y los boto=\r\nnes de OK/CANCELAR. Antes que nada, =BFalguno de ustedes tiene idea si pued=\r\no resolver el ingreso de datos usando DirectInput? Porque, hasta donde se, =\r\ntendr=EDa que andar comprobando con una lista interminable de if-else if=B4=\r\ns o switch-cases para saber qu=E9 fue lo que apret=F3 el usuario. Si a algu=\r\nno se le ocurre alg=FAn m=E9todo usando esta API no dude en escribir.\n\n  El=\r\n tema es que como tengo que entregar el trabajo en nueve d=EDas, lo mejor q=\r\nue se me ocurri=F3 para llegar a tiempo fue usar el message handler de Wind=\r\nows. Escrib=ED este fragmento de c=F3digo:\n\n   case WM_CHAR:\n    strncat(lp=\r\nKeysPressed,(const char*)&wParam,1);\n    break;\n   case WM_KEYDOWN:\n    swi=\r\ntch(wParam) {\n    case VK_BACK:\n     char szAuxKeysPressed[KPSIZE];\n     in=\r\nt iLength =3D strlen(lpKeysPressed);\n     if(0=3D=3DiLength)\n      return 0=\r\n;\n     iLength--;\n     CopyMemory(szAuxKeysPressed,lpKeysPressed,iLength);\n=\r\n     ZeroMemory(lpKeysPressed,sizeof(char)*KPSIZE);\n     CopyMemory(lpKeysP=\r\nressed,szAuxKeysPressed,iLength);\n    } // End switch.\n    break;\n\n  La ide=\r\na es que lpKeysPressed es un array global de caracteres de tama=F1o KPSIZE.=\r\n Si el usuario apreta BackSpace (WM_KEYDOWN) se hace una copia del string o=\r\nriginal menos un caracter, se lo pone a cero y se lo vuelve a copiar, esta =\r\nvez con un caracter menos. La rutina funciona s=F3lo para la primera vez en=\r\n que apreto BackSpace, luego no s=F3lo deja de borrar caracteres sino que a=\r\ndem=E1s WM_CHAR no agrega nuevas letras al string. =BFAlguno tiene idea de =\r\npor qu=E9 sucede esto? Si necesitan que pegue m=E1s c=F3digo p=EDdanmelo qu=\r\ne no hay ning=FAn problema, aunque el resto es s=F3lo una llamada al render=\r\nizador de texto para que dibuje el string y otra al primary buffer para que=\r\n haga el page flipping.\n\n  Bueno, en fin, si alguno me puede ayudar le esta=\r\nr=E9 muy agradecido.\n\n  Les mando un saludo a todos,\n\n  --Ignacio Liverotti=\r\n\n  iliverotti@...\n\n\n\n  ADVA - Asociaci=F3n de Desarrolladores de Vi=\r\ndeojuegos Argentina.\n\n  www.adva.com.ar\n  ---------------------------------=\r\n----------------------.\n\n\n\n  Tu uso de Yahoo! Grupos est=E1 sujeto a las Co=\r\nndiciones del servicio de Yahoo!. \n\r\n------=_NextPart_000_0029_01C27A7C.400F19A0\r\nContent-Type: text/html;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;=\r\n\n&lt;META http-equiv=3DContent-Type content=3D&quot;text/html; charset=3Diso-8859-1=\r\n&quot;&gt;\n&lt;META content=3D&quot;MSHTML 6.00.2800.1106&quot; name=3DGENERATOR&gt;\n&lt;STYLE&gt;&lt;/STYLE=\r\n&gt;\n&lt;/HEAD&gt;\n&lt;BODY bgColor=3D#ffffff&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Yo pole=\r\naba en cada loop y le=EDa el GetDeviceData, \ndel siguiente modo:&lt;/FONT&gt;&lt;/DI=\r\nV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DA=\r\nrial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;// \n++++=\r\n+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++&lt;B=\r\nR&gt;&nbsp;// \nPoleo por el estado del teclado&lt;BR&gt;&nbsp;// \n++++++++++++++++++=\r\n+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++&lt;BR&gt;&nbsp;HRESUL=\r\nT \nhRes;&lt;BR&gt;&nbsp;DWORD dwElements=3DMAX_DATA_BUFFER;&lt;BR&gt;&nbsp;DWORD i;&lt;/FO=\r\nNT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT f=\r\nace=3DArial size=3D2&gt;&nbsp;if (m_bAcquireKeyboard &amp;&amp; \nm_bKeyboardAv=\r\nailable)&lt;BR&gt;&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;if \n(m_lpdidKeyboard-=\r\n&gt;GetDeviceState(sizeof(m_ucKeyboardState), (LPVOID) \nm_ucKeyboardState) =\r\n=3D=3D DIERR_INPUTLOST)&lt;BR&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; \n&nbsp;&nb=\r\nsp;&nbsp;Acquire();&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&n=\r\nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;=\r\nhRes =3D \nm_lpdidKeyboard-&gt;GetDeviceData(sizeof(*m_pdidod),&lt;BR&gt;&nbsp;&nb=\r\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_pd=\r\nidod,&nbsp;&nbsp;// Estructura que \nalojara los elementos leidos del buffer=\r\n&lt;BR&gt;&nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=\r\nsp;&nbsp;&amp;dwElements,&nbsp;// \nEn Entrada: Cantidad de elementos que po=\r\nsee mi array&lt;BR&gt;&nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=\r\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// \nEn Salida: Cantidad de ele=\r\nmentos que hab=EDa en el \nbuffer&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=\r\nsp; \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0);&nbsp;&nbsp;&nbsp;&nbsp;// Espe=\r\ncifico que \nquiero retirar del buffer la informaci=F3n leida&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;=\r\nDIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial=\r\n size=3D2&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;if (hRes =3D=3D \nDI_OK)&lt;BR&gt;&nbsp;&=\r\nnbsp;&nbsp; &nbsp;&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp; &nbsp;&=\r\nnbsp;&nbsp;for (i=3D0; i&lt;dwElements; \ni++)&lt;BR&gt;&nbsp;&nbsp;&nbsp; &nbsp;&=\r\nnbsp;&nbsp; &nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=\r\n=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&nbsp;&nbsp;&nbsp=\r\n; &nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp;&nbsp;// Chequeo que el evento sea =\r\nKeyDown (y no KeyUp, porque \nsino registrar=E9&lt;BR&gt;&nbsp;&nbsp;&nbsp; &nbsp;=\r\n&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp;&nbsp;// dos veces la misma tecla).&lt;BR&gt;&nbs=\r\np;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;if (m_pdidod[i].=\r\ndwData =3D=3D 0x80 || \nm_pdidod[i].dwData =3D=3D 0)&lt;BR&gt;&nbsp;&nbsp;&nbsp; &=\r\nnbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp;&nbsp;{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nb=\r\nsp;&lt;BR&gt;&nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbs=\r\np;&nbsp;&nbsp;&nbsp;if \n(m_pdidod[i].dwData =3D=3D 0x80)&lt;BR&gt;&nbsp;&nbsp;&nb=\r\nsp; &nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&=\r\nnbsp;&nbsp;&nbsp;&nbsp; \nm_bKeyStatus[m_pdidod[i].dwOfs] =3D true;&lt;BR&gt;&nbsp=\r\n;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; \n&n=\r\nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Push(m_pdidod[i].dwOfs, \ntrue);&lt;BR&gt;&nbsp;=\r\n&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp;&nbsp=\r\n;&nbsp;}&lt;BR&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp; &nbsp=\r\n;&nbsp;&nbsp;&nbsp;&nbsp;else&lt;BR&gt;&nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp; &nb=\r\nsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp; \nm=\r\n_bKeyStatus[m_pdidod[i].dwOfs] =3D false;&lt;BR&gt;&nbsp;&nbsp;&nbsp; \n&nbsp;&nbs=\r\np;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp;&nbsp;&nb=\r\nsp;&nbsp;Push(m_pdidod[i].dwOfs, \nfalse);&lt;BR&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp=\r\n;&nbsp; &nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;BR&gt;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=\r\n;&nbsp; \n}&lt;BR&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FON=\r\nT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D=\r\n2&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;return \ntrue;&lt;BR&gt;&nbsp;&nbsp;&nbsp; =\r\n&nbsp;&nbsp;}&lt;BR&gt;&nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;else&lt;BR&gt;&nbsp;&nbsp;&nbsp;=\r\n &nbsp;&nbsp;&nbsp; \n&nbsp;&nbsp;&nbsp;return false;&lt;BR&gt;&nbsp;}&lt;BR&gt;&nbsp;el=\r\nse&lt;BR&gt;&nbsp;&nbsp;return \nfalse;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=\r\n=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Diego G. Ruiz&lt;/FO=\r\nNT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;----- Original Message ----- &lt;/DIV&gt;\n&lt;BLOCKQUOTE \nstyle=3D&quot;PA=\r\nDDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #000000=\r\n 2px solid; MARGIN-RIGHT: 0px&quot;&gt;\n  &lt;DIV \n  style=3D&quot;BACKGROUND: #e4e4e4; FON=\r\nT: 10pt arial; font-color: black&quot;&gt;&lt;B&gt;From:&lt;/B&gt; \n  &lt;A title=3Diliverotti@hot=\r\nmail.com href=3D&quot;mailto:iliverotti@...&quot;&gt;Ignacio \n  Liverotti&lt;/A&gt; &lt;/=\r\nDIV&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;To:&lt;/B&gt; &lt;A title=3DJuegosAR@grupo=\r\nsyahoo.com.ar \n  href=3D&quot;mailto:JuegosAR@...&quot;&gt;Lista ADVA&lt;/A&gt;=\r\n &lt;/DIV&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Sent:&lt;/B&gt; Monday, October 21, =\r\n2002 6:08 \n  PM&lt;/DIV&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Subject:&lt;/B&gt; [AD=\r\nVA] Ingresando datos por \n  teclado&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D=\r\n2&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Hola a todos,&lt;/FONT&gt;=\r\n&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT =\r\nface=3DArial size=3D2&gt;Tengo una aplicaci=F3n a pantalla completa (no es \n  =\r\nun juego, pero est=E1&nbsp;hecha en DirectX), y necesito que en un determin=\r\nado \n  momento el usuario ingrese unos valores num=E9ricos y, a medida que =\r\nlos va \n  ingresando, los mismos vayan apareciendo dentro de un cuadro de d=\r\ni=E1logo que no \n  est=E1&nbsp;hecho con la API de Windows sino que consist=\r\ne en un par de bmp=B4s \n  bliteados en la pantalla para el cuadro y los bot=\r\nones de OK/CANCELAR. Antes \n  que nada, =BFalguno de ustedes tiene idea si =\r\npuedo resolver el ingreso de datos \n  usando DirectInput? Porque, hasta don=\r\nde se, tendr=EDa que andar comprobando con \n  una lista interminable de if-=\r\nelse if=B4s o switch-cases para saber qu=E9 fue lo \n  que apret=F3 el usuar=\r\nio. Si a alguno se le ocurre alg=FAn m=E9todo usando esta API \n  no dude en=\r\n escribir.&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/D=\r\nIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;El tema es que como tengo que entreg=\r\nar el trabajo \n  en nueve d=EDas, lo mejor que se me ocurri=F3&nbsp;para ll=\r\negar a tiempo&nbsp;fue \n  usar el message handler de Windows. Escrib=ED est=\r\ne fragmento de \n  c=F3digo:&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D2=\r\n&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&nbsp;case \n  WM_CH=\r\nAR:&lt;BR&gt;&nbsp;&nbsp;strncat(lpKeysPressed,(const \n  char*)&amp;wParam,1);&lt;BR=\r\n&gt;&nbsp;&nbsp;break;&lt;BR&gt;&nbsp;case \n  WM_KEYDOWN:&lt;BR&gt;&nbsp;&nbsp;switch(wPar=\r\nam) {&lt;BR&gt;&nbsp;&nbsp;case \n  VK_BACK:&lt;BR&gt;&nbsp;&nbsp;&nbsp;char \n  szAuxKey=\r\nsPressed[KPSIZE];&lt;BR&gt;&nbsp;&nbsp;&nbsp;int iLength =3D \n  strlen(lpKeysPres=\r\nsed);&lt;BR&gt;&nbsp;&nbsp;&nbsp;if(0=3D=3DiLength)&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;re=\r\nturn \n  0;&lt;BR&gt;&nbsp;&nbsp;&nbsp;iLength--;&lt;BR&gt;&nbsp;&nbsp;&nbsp;CopyMemory(=\r\nszAuxKeysPressed,lpKeysPressed,iLength);&lt;BR&gt;&nbsp;&nbsp;&nbsp;ZeroMemory(lp=\r\nKeysPressed,sizeof(char)*KPSIZE);&lt;BR&gt;&nbsp;&nbsp;&nbsp;CopyMemory(lpKeysPre=\r\nssed,szAuxKeysPressed,iLength);&lt;BR&gt;&nbsp;&nbsp;} \n  // End switch.&lt;BR&gt;&nbsp=\r\n;&nbsp;break;&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;=\r\n&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;La idea es que lpKeysPressed es u=\r\nn \n  array&nbsp;global de caracteres&nbsp;de tama=F1o KPSIZE. Si el usuario=\r\n apreta \n  BackSpace (WM_KEYDOWN)&nbsp;se hace una copia del string origina=\r\nl menos un \n  caracter, se lo pone a cero y se lo vuelve a copiar, esta vez=\r\n con un caracter \n  menos. La rutina funciona s=F3lo para la primera vez en=\r\n que apreto BackSpace, \n  luego no s=F3lo deja de borrar caracteres sino qu=\r\ne adem=E1s WM_CHAR no agrega \n  nuevas letras al string. =BFAlguno tiene id=\r\nea de por qu=E9 sucede esto? Si \n  necesitan que pegue m=E1s c=F3digo p=EDd=\r\nanmelo que no hay ning=FAn problema, aunque el \n  resto es s=F3lo una llama=\r\nda al renderizador de texto para que dibuje el string y \n  otra&nbsp;al pri=\r\nmary buffer para que haga el page flipping.&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=\r\n=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Bu=\r\neno, en fin, si alguno me puede ayudar le \n  estar=E9 muy agradecido.&lt;/FONT=\r\n&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT=\r\n face=3DArial size=3D2&gt;Les mando un saludo a todos,&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FO=\r\nNT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=\r\n=3D2&gt;--Ignacio Liverotti&lt;/FONT&gt;&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;A=\r\n \n  href=3D&quot;mailto:iliverotti@...&quot;&gt;iliverotti@...&lt;/A&gt;&lt;/DIV&gt;=\r\n\n  &lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;TT&gt;ADVA - Asociaci=F3n de Desarrolladores de =\r\n\n  Videojuegos \n  Argentina.&lt;BR&gt;&lt;BR&gt;www.adva.com.ar&lt;BR&gt;--------------------=\r\n-----------------------------------.&lt;BR&gt;&lt;BR&gt;&lt;/TT&gt;&lt;BR&gt;&lt;BR&gt;&lt;TT&gt;Tu \n  uso de Y=\r\nahoo! Grupos est=E1 sujeto a las &lt;A \n  href=3D&quot;http://ar.docs.yahoo.com/inf=\r\no/utos.html&quot;&gt;Condiciones del servicio de \n  Yahoo!&lt;/A&gt;.&lt;/TT&gt; &lt;BR&gt;&lt;/BLOCKQUO=\r\nTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;\n\r\n------=_NextPart_000_0029_01C27A7C.400F19A0--\r\n\n"}}