{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"WELCOME_MSG"}]},{"resourceType":"PHOTO","capabilities":[{"name":"READ"},{"name":"UPLOAD"},{"name":"UPLOADTEMP"}]},{"resourceType":"FILE","capabilities":[{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"MEMBER","capabilities":[{"name":"READ"}]},{"resourceType":"LINK","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"CALENDAR","capabilities":[{"name":"READ"}]},{"resourceType":"DATABASE","capabilities":[{"name":"CREATE"},{"name":"READ_DATA"},{"name":"READ"}]},{"resourceType":"POLL","capabilities":[{"name":"READ"},{"name":"VOTE"},{"name":"CREATE"}]},{"resourceType":"MESSAGE","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[{"name":"READ"},{"name":"UPLOAD"}]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[{"name":"READ"}]},{"resourceType":"POST","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"PIN","capabilities":[{"name":"CREATE"},{"name":"DELETE"},{"name":"UPDATE"},{"name":"READ"}]}],"subStatus":"NORMAL","groupUrl":"ar.groups.yahoo.com","intlCode":"ar"},"comscore":"pageview_candidate","ygData":{"userId":69924492,"authorName":"Diego Tártara","from":"=?iso-8859-1?Q?Diego_T=E1rtara?= &lt;dtartara@...&gt;","replyTo":"LIST","senderId":"f8dWXl1l7R_bXMyDba781azaqHRYrYnL5DNo41qUdekorqeD85TcV3-8TkM5iapWDAqSt9YVh2yBOKZZBGjFG25YBc25_oyT1-vKm-NmkHB0jwODznqgWehNkyYIro0WKUk","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [ADVA] Estructura vs. Clases, o C vs. C++ [vtable]","postDate":"1038010303","msgId":6564,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAwNDMwMWMyOTI4NCRlN2ViYmRjMCQ0OThhZTgxOEBkaWVnb3BjPg==","referencesHeader":"PDIwMDIxMTIwMTMyNTMyLjYyNjg5LnFtYWlsQHdlYjIwMjEwLm1haWwueWFob28uY29tPg=="},"prevInTopic":0,"nextInTopic":6566,"prevInTime":6563,"nextInTime":6565,"topicId":6564,"numMessagesInTopic":34,"msgSnippet":"Marcos, La vtable no se instancia por clase. En realidad hay una única vtable por clase (que tenga métodos virtuales), y cada instancia de la clase solo","rawEmail":"Return-Path: &lt;dtartara@...&gt;\r\nX-Sender: dtartara@...\r\nX-Apparently-To: JuegosAR@...\r\nReceived: (EGP: mail-8_2_3_0); 23 Nov 2002 00:11:06 -0000\r\nReceived: (qmail 66796 invoked from network); 23 Nov 2002 00:11:06 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m2.grp.scd.yahoo.com with QMQP; 23 Nov 2002 00:11:06 -0000\r\nReceived: from unknown (HELO mail.fibertel.com.ar) (24.232.0.78)\n  by mta3.grp.scd.yahoo.com with SMTP; 23 Nov 2002 00:11:04 -0000\r\nReceived: from diegopc (24.232.138.73) by mail.fibertel.com.ar (5.5.034) (authenticated as dtartara@...)\n        id 3DDD0B130004B86F for JuegosAR@...; Fri, 22 Nov 2002 21:11:03 -0300\r\nMessage-ID: &lt;004301c29284$e7ebbdc0$498ae818@diegopc&gt;\r\nTo: &lt;JuegosAR@...&gt;\r\nReferences: &lt;20021120132532.62689.qmail@...&gt;\r\nSubject: Re: [ADVA] Estructura vs. Clases, o C vs. C++ [vtable]\r\nDate: Fri, 22 Nov 2002 21:11:43 -0300\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 5.50.4920.2300\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.50.4920.2300\r\nContent-Transfer-Encoding: Quoted-Printable\r\nFrom: =?iso-8859-1?Q?Diego_T=E1rtara?= &lt;dtartara@...&gt;\r\nX-Yahoo-Group-Post: member; u=69924492\r\n\r\nMarcos,\nLa vtable no se instancia por clase. En realidad hay una =FAnica vt=\r\nable por\nclase (que tenga m=E9todos virtuales), y cada instancia de la clas=\r\ne solo tiene\nun puntero a esa vtable. O sea que usa una dobl indirecci=F3n =\r\ny es por eso que\nno importa cuantos m=E9todos virtuales contenga la clase..=\r\n siempre asi sea 1 o\n1000 ten=E9s solo 4 bytes extra (el puntero a la vtabl=\r\ne). B=E1sicamente lo que\nhace el compilador es lo siguiente:\n\nclass padre\n{=\r\n\n    virtual metodo1\n    virtual metodo2\n};\n\nclass hijo1 : public padre\n{\n =\r\n   virtual metodo1\n};\n\nclass hijo2 : public hijo1\n{\n    virtual metodo1\n   =\r\n virtual metodo2\n};\n\nvtable_padre[] { pfnMetodo1, pfnMetodo2 }    -&gt;Ambas d=\r\ne padre\nvtable_hijo1[] { pfnMetodo1, pfnMetodo2 }    -&gt;pfnMetodo1 es de hij=\r\no1 y la\notra la hereda de padre\nvtable_hijo2[] { pfnMetodo1, pfnMetodo2 }  =\r\n  -&gt; Ambas de hijo 2\n\nVas a tener 3 vtables con los punteros a las funcione=\r\ns correctas para cada\nclase. Cada objeto que se instancia, tiene el overhea=\r\nd solo de setear un\npuntero al vtable correcto (de acuerdo a la clase).\n\nHi=\r\njo2 miHijo;\n\nEsto, antes de llamar a tu contructor el compilador hace (los =\r\nnombres son\ncualquiera es solo a efectos de que entiendan la idea)\nmiHijo._=\r\nvftable  =3D vtable_hijo2;\n\nCuando invocas un metodo lo que sucede en reali=\r\ndad es:\nmiHijo.Metodo2(x,y);\n\nEn realidad se compila como:\nmiHijo._vftable[=\r\n2](x,y);\n\nDe esa forma como todos saben aunque castees a una clase base (co=\r\nmo padre)\nse sigue invocando el metodo correcto.La funcion virtual te impon=\r\ne un\noverhead (en la llamada) porque es un lookup + call en vez de solo el =\r\ncall.\nEsto es infimo por supuesto.\n\n\n\n\n----- Original Message -----\nFrom: &quot;=\r\nmtk marcos&quot; &lt;mtkmarcos@...&gt;\nTo: &lt;JuegosAR@...&gt;\nSent=\r\n: Wednesday, November 20, 2002 10:25 AM\nSubject: Re: [ADVA] Estructura vs. =\r\nClases, o C vs. C++\n\n\n&gt; Como anda? aca te responde mtkmarcos (por las dudas=\r\n de\n&gt; que yahoo diga que el que lo manda es un tal marcos\n&gt; aurez)\n&gt;\n&gt;  ---=\r\n Marcos G &lt;marcos2k@...&gt; escribi=F3: &gt; Estoy\n&gt; buscando algunos conse=\r\njos respecto al\n&gt; &gt; rendimiento que se obtiene usando estructuras o\n&gt; &gt; cla=\r\nses, o sea C vs. C++. Pero tambi=E9n tengo una\n&gt; &gt; duda:\n&gt; &gt; Si por ejemplo=\r\n tengo una clase Rect=E1ngulo, con\n&gt; &gt; propiedades (x, y, alto, largo) y m=\r\n=E9todos (area y\n&gt; &gt; perimetro), y la instancio, el c=F3digo de los\n&gt; &gt; m=\r\n=E9todos:\n&gt; &gt; =BFse repite una vez por cada objeto? =BFo es =FAnico para\n&gt; =\r\n&gt; todos los objetos?\n&gt; El codigo es uno solo para todos los objetos de una\n=\r\n&gt; misma clase. En si, si vos haces\n&gt;\n&gt; clase1 miobj;\n&gt; miobj.mimetodo( unpa=\r\nrametro );\n&gt;\n&gt; lo que hace el c++ es esto implicitamente( algo asi):\n&gt;\n&gt; cl=\r\nase1.mimetodo( miobj, unparametro)\n&gt;\n&gt; el primer parametro es el objeto sob=\r\nre el cual\n&gt; ejecutas el metodo\n&gt;\n&gt; Le mas adelante que te aclare algunas c=\r\nosas:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Por ahora pude averiguar esto:\n&gt; &gt;\n&gt; &gt; *Una estructura pu=\r\nede ser alineada a 4 =F3 32 bytes,\n&gt; &gt; obteniendo un mejor rendimiento en e=\r\nl acceso a los\n&gt; &gt; datos. =BFSe puede hacer algo as=ED usando clases?\n&gt; si,=\r\n ya que las estructuras son iguales a las clases.\n&gt; Solo las uniones son da=\r\ntos de tipos agregados que\n&gt; difieren con las clases, ya que no pueden tene=\r\nr\n&gt; herencia\n&gt;\n&gt; &gt;\n&gt; &gt; *Cuando se instancia una clase, se hacen un mont=F3n=\r\n\n&gt; &gt; de\n&gt; &gt; cosas en tiempo de ejecuci=F3n. Esto consume tiempo.\n&gt; Eso del =\r\ntiempo depende de que hagas en el constructor\n&gt; de la clase. En si, una est=\r\nructura con un constructor\n&gt; predeterminado se ejecuta igual de rapido al\n&gt;=\r\n instanciarse que una clase con constructor\n&gt; predeterminado tambien\n&gt; Acor=\r\ndate, todo depende de que pongas en el constructor\n&gt; para que este tarde ta=\r\nl o cual tiempo\n&gt; Tambien esta el tema de las clases o estructuras que\n&gt; so=\r\nn hijas de otras. Eso le agrega una sobrecarga\n&gt; (corrijanme si me equivoco=\r\n, estoy 95% seguro ) ya que\n&gt; el c++ al instanciar un objeto de alguna clas=\r\ne que es\n&gt; hija de otra tiene que construir la vtable, que es una\n&gt; tabla c=\r\non punteros a funcion que el c++ construye si\n&gt; vos hiciste que algun metod=\r\no en la clase padre sea\n&gt; polimorfico. Obviamente, esto agrega sobrecarga, =\r\naun\n&gt; cuando tu constructor no haga nada. Mas sobrecraga hay\n&gt; si la clase =\r\npadre es abstracta, o con metodos\n&gt; virtuales puros, que no se muy bien por=\r\nque, pero si se\n&gt; que es una sobrecarga mayor. Por eso, si quieren usar\n&gt; c=\r\nlases abstractas, no instanciables por el programmer,\n&gt; usen constructores =\r\nprotected, asi las clases hijas\n&gt; pueden usarlos, pero no el programador\n&gt;\n=\r\n&gt; Chau\n&gt; Suerte\n&gt; Marcos\n&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; =BFAlguien tiene m=E1s cosas?\n&gt; &gt;\n&gt; =\r\n&gt; Saludos!!!\n&gt; &gt;\n&gt; &gt; __________________________________________________\n&gt; &gt;=\r\n Do you Yahoo!?\n&gt; &gt; Yahoo! Web Hosting - Let the expert host your site\n&gt; &gt; =\r\nhttp://webhosting.yahoo.com\n&gt; &gt;\n&gt; &gt; ADVA - Asociaci=F3n de Desarrolladores =\r\nde Videojuegos\n&gt; &gt; Argentina.\n&gt; &gt;\n&gt; &gt; www.adva.com.ar\n&gt; &gt;\n&gt; ---------------=\r\n----------------------------------------.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Tu uso de Yahoo! =\r\nGrupos est=E1 sujeto a las\n&gt; &gt; http://ar.docs.yahoo.com/info/utos.html\n&gt; &gt;\n=\r\n&gt; &gt;\n&gt;\n&gt; Ahora pod=E9s usar Yahoo! Messenger desde tu celular. Aprend=E9 c=\r\n=F3mo hacerlo\nen Yahoo! M=F3vil: http://ar.mobile.yahoo.com/sms.html\n&gt;\n&gt; AD=\r\nVA - Asociaci=F3n de Desarrolladores de Videojuegos Argentina.\n&gt;\n&gt; www.adva=\r\n.com.ar\n&gt; -------------------------------------------------------.\n&gt;\n&gt;\n&gt;\n&gt; =\r\nTu uso de Yahoo! Grupos est=E1 sujeto a las\nhttp://ar.docs.yahoo.com/info/u=\r\ntos.html\n&gt;\n&gt;\n\n\n"}}