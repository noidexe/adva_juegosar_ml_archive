{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"WELCOME_MSG"}]},{"resourceType":"PHOTO","capabilities":[{"name":"READ"},{"name":"UPLOAD"},{"name":"UPLOADTEMP"}]},{"resourceType":"FILE","capabilities":[{"name":"READ"},{"name":"CREATE"}]},{"resourceType":"MEMBER","capabilities":[{"name":"READ"}]},{"resourceType":"LINK","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"CALENDAR","capabilities":[{"name":"READ"}]},{"resourceType":"DATABASE","capabilities":[{"name":"CREATE"},{"name":"READ_DATA"},{"name":"READ"}]},{"resourceType":"POLL","capabilities":[{"name":"READ"},{"name":"VOTE"},{"name":"CREATE"}]},{"resourceType":"MESSAGE","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[{"name":"READ"},{"name":"UPLOAD"}]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[{"name":"READ"}]},{"resourceType":"POST","capabilities":[{"name":"CREATE"},{"name":"READ"}]},{"resourceType":"PIN","capabilities":[{"name":"CREATE"},{"name":"UPDATE"},{"name":"READ"},{"name":"DELETE"}]}],"subStatus":"NORMAL","groupUrl":"ar.groups.yahoo.com","intlCode":"ar"},"comscore":"pageview_candidate","ygData":{"userId":88462005,"authorName":"mtk marcos","from":"=?iso-8859-1?q?mtk=20marcos?= &lt;mtkmarcos@...&gt;","profile":"mtkmarcos","replyTo":"LIST","senderId":"Y1YsYSPht7CYZwkuE20z4Ckdvlzrip_erbmU4IEk7xpfQ-PC5aDLTIq3lvJ6DWIBzilB5fzEqv6XTzZTUBjHwJeSeVuSzVzPSdt-If3QgGfrebLdtVVtcixC9PsS","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [ADVA] Estructura vs. Clases, o C vs. C++ [vtable]","postDate":"1038169074","msgId":6566,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDIxMTI0MjAxNzU0LjUxMDQ4LnFtYWlsQHdlYjIwMjAxLm1haWwueWFob28uY29tPg==","inReplyToHeader":"PDAwNDMwMWMyOTI4NCRlN2ViYmRjMCQ0OThhZTgxOEBkaWVnb3BjPg=="},"prevInTopic":6564,"nextInTopic":6567,"prevInTime":6565,"nextInTime":6567,"topicId":6564,"numMessagesInTopic":34,"msgSnippet":"che, gracias! ahora se un poco de C++! me queda mas claro el tema de las vtables ... escribió:    Marcos, La vtable no se instancia","rawEmail":"Return-Path: &lt;mtkmarcos@...&gt;\r\nX-Sender: mtkmarcos@...\r\nX-Apparently-To: JuegosAR@...\r\nReceived: (EGP: mail-8_2_3_0); 24 Nov 2002 20:17:54 -0000\r\nReceived: (qmail 37036 invoked from network); 24 Nov 2002 20:17:54 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m7.grp.scd.yahoo.com with QMQP; 24 Nov 2002 20:17:54 -0000\r\nReceived: from unknown (HELO web20201.mail.yahoo.com) (216.136.226.56)\n  by mta1.grp.scd.yahoo.com with SMTP; 24 Nov 2002 20:17:54 -0000\r\nMessage-ID: &lt;20021124201754.51048.qmail@...&gt;\r\nReceived: from [200.45.139.135] by web20201.mail.yahoo.com via HTTP; Sun, 24 Nov 2002 17:17:54 ART\r\nDate: Sun, 24 Nov 2002 17:17:54 -0300 (ART)\r\nSubject: Re: [ADVA] Estructura vs. Clases, o C vs. C++ [vtable]\r\nTo: JuegosAR@...\r\nIn-Reply-To: &lt;004301c29284$e7ebbdc0$498ae818@diegopc&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=iso-8859-1\r\nContent-Transfer-Encoding: 8bit\r\nFrom: =?iso-8859-1?q?mtk=20marcos?= &lt;mtkmarcos@...&gt;\r\nX-Yahoo-Group-Post: member; u=88462005\r\nX-Yahoo-Profile: mtkmarcos\r\n\r\nche, gracias! ahora se un poco de C++! me queda mas\nclaro el tema de las vtables\n\n --- Diego_T�rtara &lt;dtartara@...&gt;\nescribi�: \n&lt;HR&gt;\n&lt;html&gt;&lt;body&gt;\n\n\n&lt;tt&gt;\nMarcos,&lt;BR&gt;\nLa vtable no se instancia por clase. En realidad hay\nuna �nica vtable por&lt;BR&gt;\nclase (que tenga m�todos virtuales), y cada instancia\nde la clase solo tiene&lt;BR&gt;\nun puntero a esa vtable. O sea que usa una dobl\nindirecci�n y es por eso que&lt;BR&gt;\nno importa cuantos m�todos virtuales contenga la\nclase.. siempre asi sea 1 o&lt;BR&gt;\n1000 ten�s solo 4 bytes extra (el puntero a la\nvtable). B�sicamente lo que&lt;BR&gt;\nhace el compilador es lo siguiente:&lt;BR&gt;\n&lt;BR&gt;\nclass padre&lt;BR&gt;\n{&lt;BR&gt;\n&nbsp;&nbsp;&nbsp; virtual metodo1&lt;BR&gt;\n&nbsp;&nbsp;&nbsp; virtual metodo2&lt;BR&gt;\n};&lt;BR&gt;\n&lt;BR&gt;\nclass hijo1 : public padre&lt;BR&gt;\n{&lt;BR&gt;\n&nbsp;&nbsp;&nbsp; virtual metodo1&lt;BR&gt;\n};&lt;BR&gt;\n&lt;BR&gt;\nclass hijo2 : public hijo1&lt;BR&gt;\n{&lt;BR&gt;\n&nbsp;&nbsp;&nbsp; virtual metodo1&lt;BR&gt;\n&nbsp;&nbsp;&nbsp; virtual metodo2&lt;BR&gt;\n};&lt;BR&gt;\n&lt;BR&gt;\nvtable_padre[] { pfnMetodo1, pfnMetodo2\n}&nbsp;&nbsp;&nbsp; -&gt;Ambas de padre&lt;BR&gt;\nvtable_hijo1[] { pfnMetodo1, pfnMetodo2\n}&nbsp;&nbsp;&nbsp; -&gt;pfnMetodo1 es de hijo1 y\nla&lt;BR&gt;\notra la hereda de padre&lt;BR&gt;\nvtable_hijo2[] { pfnMetodo1, pfnMetodo2\n}&nbsp;&nbsp;&nbsp; -&gt; Ambas de hijo 2&lt;BR&gt;\n&lt;BR&gt;\nVas a tener 3 vtables con los punteros a las funciones\ncorrectas para cada&lt;BR&gt;\nclase. Cada objeto que se instancia, tiene el overhead\nsolo de setear un&lt;BR&gt;\npuntero al vtable correcto (de acuerdo a la\nclase).&lt;BR&gt;\n&lt;BR&gt;\nHijo2 miHijo;&lt;BR&gt;\n&lt;BR&gt;\nEsto, antes de llamar a tu contructor el compilador\nhace (los nombres son&lt;BR&gt;\ncualquiera es solo a efectos de que entiendan la\nidea)&lt;BR&gt;\nmiHijo._vftable&nbsp; = vtable_hijo2;&lt;BR&gt;\n&lt;BR&gt;\nCuando invocas un metodo lo que sucede en realidad\nes:&lt;BR&gt;\nmiHijo.Metodo2(x,y);&lt;BR&gt;\n&lt;BR&gt;\nEn realidad se compila como:&lt;BR&gt;\nmiHijo._vftable[2](x,y);&lt;BR&gt;\n&lt;BR&gt;\nDe esa forma como todos saben aunque castees a una\nclase base (como padre)&lt;BR&gt;\nse sigue invocando el metodo correcto.La funcion\nvirtual te impone un&lt;BR&gt;\noverhead (en la llamada) porque es un lookup + call en\nvez de solo el call.&lt;BR&gt;\nEsto es infimo por supuesto.&lt;BR&gt;\n&lt;BR&gt;\n&lt;BR&gt;\n&lt;BR&gt;\n&lt;BR&gt;\n----- Original Message -----&lt;BR&gt;\nFrom: &quot;mtk marcos&quot;\n&lt;mtkmarcos@...&gt;&lt;BR&gt;\nTo: &lt;JuegosAR@...&gt;&lt;BR&gt;\nSent: Wednesday, November 20, 2002 10:25 AM&lt;BR&gt;\nSubject: Re: [ADVA] Estructura vs. Clases, o C vs.\nC++&lt;BR&gt;\n&lt;BR&gt;\n&lt;BR&gt;\n&gt; Como anda? aca te responde mtkmarcos (por las\ndudas de&lt;BR&gt;\n&gt; que yahoo diga que el que lo manda es un tal\nmarcos&lt;BR&gt;\n&gt; aurez)&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt;&nbsp; --- Marcos G &lt;marcos2k@...&gt;\nescribi�: &gt; Estoy&lt;BR&gt;\n&gt; buscando algunos consejos respecto al&lt;BR&gt;\n&gt; &gt; rendimiento que se obtiene usando\nestructuras o&lt;BR&gt;\n&gt; &gt; clases, o sea C vs. C++. Pero tambi�n tengo\nuna&lt;BR&gt;\n&gt; &gt; duda:&lt;BR&gt;\n&gt; &gt; Si por ejemplo tengo una clase Rect�ngulo,\ncon&lt;BR&gt;\n&gt; &gt; propiedades (x, y, alto, largo) y m�todos\n(area y&lt;BR&gt;\n&gt; &gt; perimetro), y la instancio, el c�digo de\nlos&lt;BR&gt;\n&gt; &gt; m�todos:&lt;BR&gt;\n&gt; &gt; �se repite una vez por cada objeto? �o es\n�nico para&lt;BR&gt;\n&gt; &gt; todos los objetos?&lt;BR&gt;\n&gt; El codigo es uno solo para todos los objetos de\nuna&lt;BR&gt;\n&gt; misma clase. En si, si vos haces&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; clase1 miobj;&lt;BR&gt;\n&gt; miobj.mimetodo( unparametro );&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; lo que hace el c++ es esto implicitamente( algo\nasi):&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; clase1.mimetodo( miobj, unparametro)&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; el primer parametro es el objeto sobre el\ncual&lt;BR&gt;\n&gt; ejecutas el metodo&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; Le mas adelante que te aclare algunas cosas:&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt; &gt; Por ahora pude averiguar esto:&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt; &gt; *Una estructura puede ser alineada a 4 � 32\nbytes,&lt;BR&gt;\n&gt; &gt; obteniendo un mejor rendimiento en el acceso\na los&lt;BR&gt;\n&gt; &gt; datos. �Se puede hacer algo as� usando\nclases?&lt;BR&gt;\n&gt; si, ya que las estructuras son iguales a las\nclases.&lt;BR&gt;\n&gt; Solo las uniones son datos de tipos agregados\nque&lt;BR&gt;\n&gt; difieren con las clases, ya que no pueden\ntener&lt;BR&gt;\n&gt; herencia&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt; &gt; *Cuando se instancia una clase, se hacen un\nmont�n&lt;BR&gt;\n&gt; &gt; de&lt;BR&gt;\n&gt; &gt; cosas en tiempo de ejecuci�n. Esto consume\ntiempo.&lt;BR&gt;\n&gt; Eso del tiempo depende de que hagas en el\nconstructor&lt;BR&gt;\n&gt; de la clase. En si, una estructura con un\nconstructor&lt;BR&gt;\n&gt; predeterminado se ejecuta igual de rapido al&lt;BR&gt;\n&gt; instanciarse que una clase con constructor&lt;BR&gt;\n&gt; predeterminado tambien&lt;BR&gt;\n&gt; Acordate, todo depende de que pongas en el\nconstructor&lt;BR&gt;\n&gt; para que este tarde tal o cual tiempo&lt;BR&gt;\n&gt; Tambien esta el tema de las clases o estructuras\nque&lt;BR&gt;\n&gt; son hijas de otras. Eso le agrega una\nsobrecarga&lt;BR&gt;\n&gt; (corrijanme si me equivoco, estoy 95% seguro ) ya\nque&lt;BR&gt;\n&gt; el c++ al instanciar un objeto de alguna clase\nque es&lt;BR&gt;\n&gt; hija de otra tiene que construir la vtable, que\nes una&lt;BR&gt;\n&gt; tabla con punteros a funcion que el c++ construye\nsi&lt;BR&gt;\n&gt; vos hiciste que algun metodo en la clase padre\nsea&lt;BR&gt;\n&gt; polimorfico. Obviamente, esto agrega sobrecarga,\naun&lt;BR&gt;\n&gt; cuando tu constructor no haga nada. Mas\nsobrecraga hay&lt;BR&gt;\n&gt; si la clase padre es abstracta, o con metodos&lt;BR&gt;\n&gt; virtuales puros, que no se muy bien porque, pero\nsi se&lt;BR&gt;\n&gt; que es una sobrecarga mayor. Por eso, si quieren\nusar&lt;BR&gt;\n&gt; clases abstractas, no instanciables por el\nprogrammer,&lt;BR&gt;\n&gt; usen constructores protected, asi las clases\nhijas&lt;BR&gt;\n&gt; pueden usarlos, pero no el programador&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; Chau&lt;BR&gt;\n&gt; Suerte&lt;BR&gt;\n&gt; Marcos&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt; &gt; �Alguien tiene m�s cosas?&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt; &gt; Saludos!!!&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt; &gt;\n__________________________________________________&lt;BR&gt;\n&gt; &gt; Do you Yahoo!?&lt;BR&gt;\n&gt; &gt; Yahoo! Web Hosting - Let the expert host\nyour site&lt;BR&gt;\n&gt; &gt; &lt;a\nhref=&quot;http://webhosting.yahoo.com&quot;&gt;http://webhosting.yahoo.com&lt;/a&gt;&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt; &gt; ADVA - Asociaci�n de Desarrolladores de\nVideojuegos&lt;BR&gt;\n&gt; &gt; Argentina.&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt; &gt; www.adva.com.ar&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt;\n-------------------------------------------------------.&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt; &gt; Tu uso de Yahoo! Grupos est� sujeto a\nlas&lt;BR&gt;\n&gt; &gt; &lt;a\nhref=&quot;http://ar.docs.yahoo.com/info/utos.html&quot;&gt;http://ar.docs.yahoo.com/info/utos.html&lt;/a&gt;&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt; &gt;&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; Ahora pod�s usar Yahoo! Messenger desde tu\ncelular. Aprend� c�mo hacerlo&lt;BR&gt;\nen Yahoo! M�vil: &lt;a\nhref=&quot;http://ar.mobile.yahoo.com/sms.html&quot;&gt;http://ar.mobile.yahoo.com/sms.html&lt;/a&gt;&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; ADVA - Asociaci�n de Desarrolladores de\nVideojuegos Argentina.&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; www.adva.com.ar&lt;BR&gt;\n&gt;\n-------------------------------------------------------.&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; Tu uso de Yahoo! Grupos est� sujeto a las&lt;BR&gt;\n&lt;a\nhref=&quot;http://ar.docs.yahoo.com/info/utos.html&quot;&gt;http://ar.docs.yahoo.com/info/utos.html&lt;/a&gt;&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt;&lt;BR&gt;\n&lt;BR&gt;\n&lt;/tt&gt;\n\n\n&lt;br&gt;\n&lt;tt&gt;\nADVA - Asociaci�n de Desarrolladores de Videojuegos\nArgentina.&lt;BR&gt;\n&lt;BR&gt;\nwww.adva.com.ar&lt;BR&gt;\n-------------------------------------------------------.&lt;BR&gt;\n&lt;BR&gt;\n&lt;/tt&gt;\n&lt;br&gt;\n\n&lt;br&gt;\n&lt;tt&gt;Tu uso de Yahoo! Grupos est� sujeto a las &lt;a\nhref=&quot;http://ar.docs.yahoo.com/info/utos.html&quot;&gt;Condiciones\ndel servicio de Yahoo!&lt;/a&gt;.&lt;/tt&gt;\n&lt;/br&gt;\n\n&lt;/body&gt;&lt;/html&gt;\n \n\nAhora pod�s usar Yahoo! Messenger desde tu celular. Aprend� c�mo hacerlo en Yahoo! M�vil: http://ar.mobile.yahoo.com/sms.html\n\n"}}